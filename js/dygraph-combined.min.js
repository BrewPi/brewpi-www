function RGBColorParser(e){this.ok=false;if(e.charAt(0)=="#"){e=e.substr(1,6)}e=e.replace(/ /g,"");e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t){if(e==n){e=t[n]}}var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];for(var i=0;i<r.length;i++){var s=r[i].re;var o=r[i].process;var u=s.exec(e);if(u){var a=o(u);this.r=a[0];this.g=a[1];this.b=a[2];this.ok=true}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var e=this.r.toString(16);var t=this.g.toString(16);var n=this.b.toString(16);if(e.length==1){e="0"+e}if(t.length==1){t="0"+t}if(n.length==1){n="0"+n}return"#"+e+t+n}}function printStackTrace(e){e=e||{guess:true};var t=e.e||null,n=!!e.guess;var r=new printStackTrace.implementation,i=r.run(t);return n?r.guessAnonymousFunctions(i):i}Date.ext={};Date.ext.util={};Date.ext.util.xPad=function(e,t,n){if(typeof n=="undefined"){n=10}for(;parseInt(e,10)<n&&n>1;n/=10){e=t.toString()+e}return e.toString()};Date.prototype.locale="en-GB";if(document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){Date.prototype.locale=document.getElementsByTagName("html")[0].lang}Date.ext.locales={};Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";Date.ext.locales["en-US"].x="%D";Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear();var n=parseInt(Date.ext.formats.V(e),10);var r=parseInt(Date.ext.formats.W(e),10);if(r>n){t++}else{if(r===0&&n>=52){t--}}return t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(t===0?12:t,0)},j:function(e){var t=e-new Date(""+e.getFullYear()+"/1/1 GMT");t+=e.getTimezoneOffset()*6e4;var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return t===0?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10);var n=6-e.getDay();var r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10);var n=(new Date(""+e.getFullYear()+"/1/1")).getDay();var r=t+(n>4||n<=1?0:1);if(r==53&&(new Date(""+e.getFullYear()+"/12/31")).getDay()<4){r=1}else{if(r===0){r=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))}}return Date.ext.util.xPad(r,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10);var n=7-Date.ext.formats.u(e);var r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset();var n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0);var r=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+r},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(e){return"%"}};Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date);Date.ext.aggregates.Z=Date.ext.formats.Z(new Date);Date.ext.unsupported={};Date.prototype.strftime=function(e){if(!(this.locale in Date.ext.locales)){if(this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales){this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")}else{this.locale="en-GB"}}var t=this;while(e.match(/%[cDhnrRtTxXzZ]/)){e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var r=Date.ext.aggregates[n];return r=="locale"?Date.ext.locales[t.locale][n]:r})}var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var r=Date.ext.formats[n];if(typeof r=="string"){return t[r]()}else{if(typeof r=="function"){return r.call(t,t)}else{if(typeof r=="object"&&typeof r[0]=="string"){return Date.ext.util.xPad(t[r[0]](),r[1])}else{return n}}}});t=null;return n};"use strict";printStackTrace.implementation=function(){};printStackTrace.implementation.prototype={run:function(e,t){e=e||this.createException();t=t||this.mode(e);if(t==="other"){return this.other(arguments.callee)}else{return this[t](e)}},createException:function(){try{this.undef()}catch(e){return e}},mode:function(e){if(e["arguments"]&&e.stack){return"chrome"}else{if(typeof e.message==="string"&&typeof window!=="undefined"&&window.opera){if(!e.stacktrace){return"opera9"}if(e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return"opera9"}if(!e.stack){return"opera10a"}if(e.stacktrace.indexOf("called from line")<0){return"opera10b"}return"opera11"}else{if(e.stack){return"firefox"}}}return"other"},instrumentFunction:function(e,t,n){e=e||window;var r=e[t];e[t]=function(){n.call(this,printStackTrace().slice(4));return e[t]._instrumented.apply(this,arguments)};e[t]._instrumented=r},deinstrumentFunction:function(e,t){if(e[t].constructor===Function&&e[t]._instrumented&&e[t]._instrumented.constructor===Function){e[t]=e[t]._instrumented}},chrome:function(e){var t=(e.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n");t.pop();return t},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera11:function(e){var t="{anonymous}",n=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;var r=e.stacktrace.split("\n"),i=[];for(var s=0,o=r.length;s<o;s+=2){var u=n.exec(r[s]);if(u){var a=u[4]+":"+u[1]+":"+u[2];var f=u[3]||"global code";f=f.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,t);i.push(f+"@"+a+" -- "+r[s+1].replace(/^\s+/,""))}}return i},opera10b:function(e){var t="{anonymous}",n=/^(.*)@(.+):(\d+)$/;var r=e.stacktrace.split("\n"),i=[];for(var s=0,o=r.length;s<o;s++){var u=n.exec(r[s]);if(u){var a=u[1]?u[1]+"()":"global code";i.push(a+"@"+u[2]+":"+u[3])}}return i},opera10a:function(e){var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var r=e.stacktrace.split("\n"),i=[];for(var s=0,o=r.length;s<o;s+=2){var u=n.exec(r[s]);if(u){var a=u[3]||t;i.push(a+"()@"+u[2]+":"+u[1]+" -- "+r[s+1].replace(/^\s+/,""))}}return i},opera9:function(e){var t="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)/i;var r=e.message.split("\n"),i=[];for(var s=2,o=r.length;s<o;s+=2){var u=n.exec(r[s]);if(u){i.push(t+"()@"+u[2]+":"+u[1]+" -- "+r[s+1].replace(/^\s+/,""))}}return i},other:function(e){var t="{anonymous}",n=/function\s*([\w\-$]+)?\s*\(/i,r=[],i,s,o=10;while(e&&r.length<o){i=n.test(e.toString())?RegExp.$1||t:t;s=Array.prototype.slice.call(e["arguments"]||[]);r[r.length]=i+"("+this.stringifyArguments(s)+")";e=e.caller}return r},stringifyArguments:function(e){var t=[];var n=Array.prototype.slice;for(var r=0;r<e.length;++r){var i=e[r];if(i===undefined){t[r]="undefined"}else{if(i===null){t[r]="null"}else{if(i.constructor){if(i.constructor===Array){if(i.length<3){t[r]="["+this.stringifyArguments(i)+"]"}else{t[r]="["+this.stringifyArguments(n.call(i,0,1))+"..."+this.stringifyArguments(n.call(i,-1))+"]"}}else{if(i.constructor===Object){t[r]="#object"}else{if(i.constructor===Function){t[r]="#function"}else{if(i.constructor===String){t[r]='"'+i+'"'}else{if(i.constructor===Number){t[r]=i}}}}}}}}}return t.join(",")},sourceCache:{},ajax:function(e){var t=this.createXMLHTTPObject();if(t){try{t.open("GET",e,false);t.send(null);return t.responseText}catch(n){}}return""},createXMLHTTPObject:function(){var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var n=0;n<t.length;n++){try{e=t[n]();this.createXMLHTTPObject=t[n];return e}catch(r){}}},isSameDomain:function(e){return e.indexOf(location.hostname)!==-1},getSource:function(e){if(!(e in this.sourceCache)){this.sourceCache[e]=this.ajax(e).split("\n")}return this.sourceCache[e]},guessAnonymousFunctions:function(e){for(var t=0;t<e.length;++t){var n=/\{anonymous\}\(.*\)@(.*)/,r=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,i=e[t],s=n.exec(i);if(s){var o=r.exec(s[1]),u=o[1],a=o[2],f=o[3]||0;if(u&&this.isSameDomain(u)&&a){var l=this.guessAnonymousFunction(u,a,f);e[t]=i.replace("{anonymous}",l)}}}return e},guessAnonymousFunction:function(e,t,n){var r;try{r=this.findFunctionName(this.getSource(e),t)}catch(i){r="getSource failed with url: "+e+", exception: "+i.toString()}return r},findFunctionName:function(e,t){var n=/function\s+([^(]*?)\s*\(([^)]*)\)/;var r=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*function\b/;var i=/['"]?([0-9A-Za-z_]+)['"]?\s*[:=]\s*(?:eval|new Function)\b/;var s="",o,u=Math.min(t,20),a,f;for(var l=0;l<u;++l){o=e[t-l-1];f=o.indexOf("//");if(f>=0){o=o.substr(0,f)}if(o){s=o+s;a=r.exec(s);if(a&&a[1]){return a[1]}a=n.exec(s);if(a&&a[1]){return a[1]}a=i.exec(s);if(a&&a[1]){return a[1]}}}return"(?)"}};CanvasRenderingContext2D.prototype.installPattern=function(e){if(typeof this.isPatternInstalled!=="undefined"){throw"Must un-install old line pattern before installing a new one."}this.isPatternInstalled=true;var t=[0,0];var n=[];var r=this.beginPath;var i=this.lineTo;var s=this.moveTo;var o=this.stroke;this.uninstallPattern=function(){this.beginPath=r;this.lineTo=i;this.moveTo=s;this.stroke=o;this.uninstallPattern=undefined;this.isPatternInstalled=undefined};this.beginPath=function(){n=[];r.call(this)};this.moveTo=function(e,t){n.push([[e,t]]);s.call(this,e,t)};this.lineTo=function(e,t){var r=n[n.length-1];r.push([e,t])};this.stroke=function(){if(n.length===0){o.call(this);return}for(var r=0;r<n.length;r++){var u=n[r];var f=u[0][0],l=u[0][1];for(var h=1;h<u.length;h++){var p=u[h][0],v=u[h][1];this.save();var m=p-f;var y=v-l;var w=Math.sqrt(m*m+y*y);var E=Math.atan2(y,m);this.translate(f,l);s.call(this,0,0);this.rotate(E);var S=t[0];var x=0;while(w>x){var T=e[S];if(t[1]){x+=t[1]}else{x+=T}if(x>w){t=[S,x-w];x=w}else{t=[(S+1)%e.length,0]}if(S%2===0){i.call(this,x,0)}else{s.call(this,x,0)}S=(S+1)%e.length}this.restore();f=p,l=v}}o.call(this);n=[]}};CanvasRenderingContext2D.prototype.uninstallPattern=function(){throw"Must install a line pattern before uninstalling it."};var DygraphOptions=function(){var e=function(e){this.dygraph_=e;this.yAxes_=[];this.xAxis_={};this.series_={};this.global_=this.dygraph_.attrs_;this.user_=this.dygraph_.user_attrs_||{};this.labels_=[];this.highlightSeries_=this.get("highlightSeriesOpts")||{};this.reparseSeries()};e.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};e.axisToIndex_=function(t){if(typeof t=="string"){if(e.AXIS_STRING_MAPPINGS_.hasOwnProperty(t)){return e.AXIS_STRING_MAPPINGS_[t]}throw"Unknown axis : "+t}if(typeof t=="number"){if(t===0||t===1){return t}throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(t){throw"Unknown axis : "+t}return 0};e.prototype.reparseSeries=function(){var t=this.get("labels");if(!t){return}this.labels_=t.slice(1);this.yAxes_=[{series:[],options:{}}];this.xAxis_={options:{}};this.series_={};var n=!this.user_.series;if(n){var r=0;for(var i=0;i<this.labels_.length;i++){var s=this.labels_[i];var o=this.user_[s]||{};var u=0;var f=o.axis;if(typeof f=="object"){u=++r;this.yAxes_[u]={series:[s],options:f}}if(!f){this.yAxes_[0].series.push(s)}this.series_[s]={idx:i,yAxis:u,options:o}}for(var i=0;i<this.labels_.length;i++){var s=this.labels_[i];var o=this.series_[s]["options"];var f=o.axis;if(typeof f=="string"){if(!this.series_.hasOwnProperty(f)){Dygraph.error("Series "+s+" wants to share a y-axis with series "+f+", which does not define its own axis.");return}var u=this.series_[f].yAxis;this.series_[s].yAxis=u;this.yAxes_[u].series.push(s)}}}else{for(var i=0;i<this.labels_.length;i++){var s=this.labels_[i];var o=this.user_.series[s]||{};var u=e.axisToIndex_(o.axis);this.series_[s]={idx:i,yAxis:u,options:o};if(!this.yAxes_[u]){this.yAxes_[u]={series:[s],options:{}}}else{this.yAxes_[u].series.push(s)}}}var l=this.user_.axes||{};Dygraph.update(this.yAxes_[0].options,l.y||{});if(this.yAxes_.length>1){Dygraph.update(this.yAxes_[1].options,l.y2||{})}Dygraph.update(this.xAxis_.options,l.x||{})};e.prototype.get=function(e){var t=this.getGlobalUser_(e);if(t!==null){return t}return this.getGlobalDefault_(e)};e.prototype.getGlobalUser_=function(e){if(this.user_.hasOwnProperty(e)){return this.user_[e]}return null};e.prototype.getGlobalDefault_=function(e){if(this.global_.hasOwnProperty(e)){return this.global_[e]}if(Dygraph.DEFAULT_ATTRS.hasOwnProperty(e)){return Dygraph.DEFAULT_ATTRS[e]}return null};e.prototype.getForAxis=function(e,t){var n;var r;if(typeof t=="number"){n=t;r=n===0?"y":"y2"}else{if(t=="y1"){t="y"}if(t=="y"){n=0}else{if(t=="y2"){n=1}else{if(t=="x"){n=-1}else{throw"Unknown axis "+t}}}r=t}var i=n==-1?this.xAxis_:this.yAxes_[n];if(i){var s=i.options;if(s.hasOwnProperty(e)){return s[e]}}var o=this.getGlobalUser_(e);if(o!==null){return o}var u=Dygraph.DEFAULT_ATTRS.axes[r];if(u.hasOwnProperty(e)){return u[e]}return this.getGlobalDefault_(e)};e.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()){if(this.highlightSeries_.hasOwnProperty(e)){return this.highlightSeries_[e]}}if(!this.series_.hasOwnProperty(t)){throw"Unknown series: "+t}var n=this.series_[t];var r=n.options;if(r.hasOwnProperty(e)){return r[e]}return this.getForAxis(e,n.yAxis)};e.prototype.numAxes=function(){return this.yAxes_.length};e.prototype.axisForSeries=function(e){return this.series_[e].yAxis};e.prototype.axisOptions=function(e){return this.yAxes_[e].options};e.prototype.seriesForAxis=function(e){return this.yAxes_[e].series};e.prototype.seriesNames=function(){return this.labels_};e.prototype.indexOfSeries=function(e){return this.series_[e].idx};return e}();"use strict";var DygraphLayout=function(e){this.dygraph_=e;this.datasets=[];this.setNames=[];this.annotations=[];this.yAxes_=null;this.points=null;this.xTicks_=null;this.yTicks_=null};DygraphLayout.prototype.attr_=function(e){return this.dygraph_.attr_(e)};DygraphLayout.prototype.addDataset=function(e,t){this.datasets.push(t);this.setNames.push(e)};DygraphLayout.prototype.getPlotArea=function(){return this.area_};DygraphLayout.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.attr_("rightGap");e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(t){var n={x:e.x,y:e.y,w:t,h:e.h};e.x+=t;e.w-=t;return n},reserveSpaceRight:function(t){var n={x:e.x+e.w-t,y:e.y,w:t,h:e.h};e.w-=t;return n},reserveSpaceTop:function(t){var n={x:e.x,y:e.y,w:e.w,h:t};e.y+=t;e.h-=t;return n},reserveSpaceBottom:function(t){var n={x:e.x,y:e.y+e.h-t,w:e.w,h:t};e.h-=t;return n},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t);this.area_=e};DygraphLayout.prototype.setAnnotations=function(e){this.annotations=[];var t=this.attr_("xValueParser")||function(e){return e};for(var n=0;n<e.length;n++){var r={};if(!e[n].xval&&e[n].x===undefined){this.dygraph_.error("Annotations must have an 'x' property");return}if(e[n].icon&&!(e[n].hasOwnProperty("width")&&e[n].hasOwnProperty("height"))){this.dygraph_.error("Must set width and height when setting annotation.icon property");return}Dygraph.update(r,e[n]);if(!r.xval){r.xval=t(r.x)}this.annotations.push(r)}};DygraphLayout.prototype.setXTicks=function(e){this.xTicks_=e};DygraphLayout.prototype.setYAxes=function(e){this.yAxes_=e};DygraphLayout.prototype.setDateWindow=function(e){this.dateWindow_=e};DygraphLayout.prototype.evaluate=function(){this._evaluateLimits();this._evaluateLineCharts();this._evaluateLineTicks();this._evaluateAnnotations()};DygraphLayout.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this.minxval=e[0];this.maxxval=e[1];var t=e[1]-e[0];this.xscale=t!==0?1/t:1;for(var n=0;n<this.yAxes_.length;n++){var r=this.yAxes_[n];r.minyval=r.computedValueRange[0];r.maxyval=r.computedValueRange[1];r.yrange=r.maxyval-r.minyval;r.yscale=r.yrange!==0?1/r.yrange:1;if(r.g.attr_("logscale")){r.ylogrange=Dygraph.log10(r.maxyval)-Dygraph.log10(r.minyval);r.ylogscale=r.ylogrange!==0?1/r.ylogrange:1;if(!isFinite(r.ylogrange)||isNaN(r.ylogrange)){r.g.error("axis "+n+" of graph at "+r.g+" can't be displayed in log scale for range ["+r.minyval+" - "+r.maxyval+"]")}}}};DygraphLayout._calcYNormal=function(e,t,n){if(n){return 1-(Dygraph.log10(t)-Dygraph.log10(e.minyval))*e.ylogscale}else{return 1-(t-e.minyval)*e.yscale}};DygraphLayout.prototype._evaluateLineCharts=function(){var e=this.attr_("connectSeparatedPoints");this.points=new Array(this.datasets.length);var t=0;if(this.dygraph_.boundaryIds_.length>0){t=this.dygraph_.boundaryIds_[this.dygraph_.boundaryIds_.length-1][0]}for(var n=0;n<this.datasets.length;n++){var r=this.datasets[n];var i=this.setNames[n];var s=this.dygraph_.axisPropertiesForSeries(i);var o=this.dygraph_.attributes_.getForSeries("logscale",i);var u=new Array(r.length);for(var a=0;a<r.length;a++){var f=r[a];var l=DygraphLayout.parseFloat_(f[0]);var c=DygraphLayout.parseFloat_(f[1]);var h=(l-this.minxval)*this.xscale;var p=DygraphLayout._calcYNormal(s,c,o);if(e&&f[1]===null){c=null}u[a]={x:h,y:p,xval:l,yval:c,name:i,idx:a+t}}this.points[n]=u}};DygraphLayout.parseFloat_=function(e){if(e===null){return NaN}return e};DygraphLayout.prototype._evaluateLineTicks=function(){var e,t,n,r;this.xticks=[];for(e=0;e<this.xTicks_.length;e++){t=this.xTicks_[e];n=t.label;r=this.xscale*(t.v-this.minxval);if(r>=0&&r<=1){this.xticks.push([r,n])}}this.yticks=[];for(e=0;e<this.yAxes_.length;e++){var i=this.yAxes_[e];for(var s=0;s<i.ticks.length;s++){t=i.ticks[s];n=t.label;r=this.dygraph_.toPercentYCoord(t.v,e);if(r>=0&&r<=1){this.yticks.push([e,r,n])}}}};DygraphLayout.prototype.evaluateWithError=function(){this.evaluate();if(!(this.attr_("errorBars")||this.attr_("customBars"))){return}var e=0;for(var t=0;t<this.datasets.length;++t){var n=this.points[t];var r=0;var i=this.datasets[t];var s=this.setNames[t];var o=this.dygraph_.axisPropertiesForSeries(s);var u=this.dygraph_.attributes_.getForSeries("logscale",s);for(r=0;r<i.length;r++,e++){var a=i[r];var f=DygraphLayout.parseFloat_(a[0]);var l=DygraphLayout.parseFloat_(a[1]);if(f==n[r].xval&&l==n[r].yval){var c=DygraphLayout.parseFloat_(a[2]);var h=DygraphLayout.parseFloat_(a[3]);var p=l-c;var d=l+h;n[r].y_top=DygraphLayout._calcYNormal(o,p,u);n[r].y_bottom=DygraphLayout._calcYNormal(o,d,u)}}}};DygraphLayout.prototype._evaluateAnnotations=function(){var e;var t={};for(e=0;e<this.annotations.length;e++){var n=this.annotations[e];t[n.xval+","+n.series]=n}this.annotated_points=[];if(!this.annotations||!this.annotations.length){return}for(var r=0;r<this.points.length;r++){var i=this.points[r];for(e=0;e<i.length;e++){var s=i[e];var o=s.xval+","+s.name;if(o in t){s.annotation=t[o];this.annotated_points.push(s)}}}};DygraphLayout.prototype.removeAllDatasets=function(){delete this.datasets;delete this.setNames;delete this.setPointsLengths;delete this.setPointsOffsets;this.datasets=[];this.setNames=[];this.setPointsLengths=[];this.setPointsOffsets=[]};DygraphLayout.prototype.unstackPointAtIndex=function(e,t){var n=this.points[e][t];if(!Dygraph.isValidPoint(n)){return n}var r={};for(var i in n){r[i]=n[i]}if(!this.attr_("stackedGraph")){return r}for(e++;e<this.points.length;e++){var s=this.points[e][t];if(s.xval==n.xval&&Dygraph.isValidPoint(s)){r.yval-=s.yval;break}}return r};"use strict";var DygraphCanvasRenderer=function(e,t,n,r){this.dygraph_=e;this.layout=r;this.element=t;this.elementContext=n;this.container=this.element.parentNode;this.height=this.element.height;this.width=this.element.width;if(!this.isIE&&!DygraphCanvasRenderer.isSupported(this.element)){throw"Canvas is not supported."}this.area=r.getPlotArea();this.container.style.position="relative";this.container.style.width=this.width+"px";if(this.dygraph_.isUsingExcanvas_){this._createIEClipArea()}else{if(!Dygraph.isAndroid()){var i=this.dygraph_.canvas_ctx_;i.beginPath();i.rect(this.area.x,this.area.y,this.area.w,this.area.h);i.clip();i=this.dygraph_.hidden_ctx_;i.beginPath();i.rect(this.area.x,this.area.y,this.area.w,this.area.h);i.clip()}}};DygraphCanvasRenderer.prototype.attr_=function(e,t){return this.dygraph_.attr_(e,t)};DygraphCanvasRenderer.prototype.clear=function(){var e;if(this.isIE){try{if(this.clearDelay){this.clearDelay.cancel();this.clearDelay=null}e=this.elementContext}catch(t){return}}e=this.elementContext;e.clearRect(0,0,this.width,this.height)};DygraphCanvasRenderer.isSupported=function(e){var t=null;try{if(typeof e=="undefined"||e===null){t=document.createElement("canvas")}else{t=e}t.getContext("2d")}catch(n){var r=navigator.appVersion.match(/MSIE (\d\.\d)/);var i=navigator.userAgent.toLowerCase().indexOf("opera")!=-1;if(!r||r[1]<6||i){return false}return true}return true};DygraphCanvasRenderer.prototype.render=function(){this._updatePoints();this._renderLineChart()};DygraphCanvasRenderer.prototype._createIEClipArea=function(){function o(n){if(n.w===0||n.h===0){return}var i=document.createElement("div");i.className=e;i.style.backgroundColor=r;i.style.position="absolute";i.style.left=n.x+"px";i.style.top=n.y+"px";i.style.width=n.w+"px";i.style.height=n.h+"px";t.appendChild(i)}var e="dygraph-clip-div";var t=this.dygraph_.graphDiv;for(var n=t.childNodes.length-1;n>=0;n--){if(t.childNodes[n].className==e){t.removeChild(t.childNodes[n])}}var r=document.bgColor;var i=this.dygraph_.graphDiv;while(i!=document){var s=i.currentStyle.backgroundColor;if(s&&s!="transparent"){r=s;break}i=i.parentNode}var u=this.area;o({x:0,y:0,w:u.x,h:this.height});o({x:u.x,y:0,w:this.width-u.x,h:u.y});o({x:u.x+u.w,y:0,w:this.width-u.x-u.w,h:this.height});o({x:u.x,y:u.y+u.h,w:this.width-u.x,h:this.height-u.h-u.y})};DygraphCanvasRenderer._getIteratorPredicate=function(e){return e?DygraphCanvasRenderer._predicateThatSkipsEmptyPoints:null};DygraphCanvasRenderer._predicateThatSkipsEmptyPoints=function(e,t){return e[t].yval!==null};DygraphCanvasRenderer._drawStyledLine=function(e,t,n,r,i,s,o){var u=e.dygraph;var a=u.getOption("stepPlot",e.setName);if(!Dygraph.isArrayLike(r)){r=null}var f=u.getOption("drawGapEdgePoints",e.setName);var l=e.points;var c=Dygraph.createIterator(l,0,l.length,DygraphCanvasRenderer._getIteratorPredicate(u.getOption("connectSeparatedPoints")));var h=r&&r.length>=2;var p=e.drawingContext;p.save();if(h){p.installPattern(r)}var d=DygraphCanvasRenderer._drawSeries(e,c,n,o,i,f,a,t);DygraphCanvasRenderer._drawPointsOnLine(e,d,s,t,o);if(h){p.uninstallPattern()}p.restore()};DygraphCanvasRenderer._drawSeries=function(e,t,n,r,i,s,o,u){var a=null;var f=null;var l=null;var c;var h;var p=[];var d=true;var v=e.drawingContext;v.beginPath();v.strokeStyle=u;v.lineWidth=n;var m=t.array_;var g=t.end_;var y=t.predicate_;for(var b=t.start_;b<g;b++){h=m[b];if(y){while(b<g&&!y(m,b)){b++}if(b==g){break}h=m[b]}if(h.canvasy===null||h.canvasy!=h.canvasy){if(o&&a!==null){v.moveTo(a,f);v.lineTo(h.canvasx,f)}a=f=null}else{c=false;if(s||!a){t.nextIdx_=b;t.next();l=t.hasNext?t.peek.canvasy:null;var w=l===null||l!=l;c=!a&&w;if(s){if(!d&&!a||t.hasNext&&w){c=true}}}if(a!==null){if(n){if(o){v.moveTo(a,f);v.lineTo(h.canvasx,f)}v.lineTo(h.canvasx,h.canvasy)}}else{v.moveTo(h.canvasx,h.canvasy)}if(i||c){p.push([h.canvasx,h.canvasy,h.idx])}a=h.canvasx;f=h.canvasy}d=false}v.stroke();return p};DygraphCanvasRenderer._drawPointsOnLine=function(e,t,n,r,i){var s=e.drawingContext;for(var o=0;o<t.length;o++){var u=t[o];s.save();n(e.dygraph,e.setName,s,u[0],u[1],r,i,u[2]);s.restore()}};DygraphCanvasRenderer.prototype._updatePoints=function(){var e=this.layout.points;for(var t=e.length;t--;){var n=e[t];for(var r=n.length;r--;){var i=n[r];i.canvasx=this.area.w*i.x+this.area.x;i.canvasy=this.area.h*i.y+this.area.y}}};DygraphCanvasRenderer.prototype._renderLineChart=function(e,t){var n=t||this.elementContext;var r;var i=this.layout.points;var s=this.layout.setNames;var o;this.colors=this.dygraph_.colorsMap_;var u=this.attr_("plotter");var a=u;if(!Dygraph.isArrayLike(a)){a=[a]}var f={};for(r=0;r<s.length;r++){o=s[r];var l=this.attr_("plotter",o);if(l==u){continue}f[o]=l}for(r=0;r<a.length;r++){var c=a[r];var h=r==a.length-1;for(var p=0;p<i.length;p++){o=s[p];if(e&&o!=e){continue}var d=i[p];var v=c;if(o in f){if(h){v=f[o]}else{continue}}var m=this.colors[o];var g=this.dygraph_.getOption("strokeWidth",o);n.save();n.strokeStyle=m;n.lineWidth=g;v({points:d,setName:o,drawingContext:n,color:m,strokeWidth:g,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(o),plotArea:this.area,seriesIndex:p,seriesCount:i.length,singleSeriesName:e,allSeriesPoints:i});n.restore()}}};DygraphCanvasRenderer._Plotters={linePlotter:function(e){DygraphCanvasRenderer._linePlotter(e)},fillPlotter:function(e){DygraphCanvasRenderer._fillPlotter(e)},errorPlotter:function(e){DygraphCanvasRenderer._errorPlotter(e)}};DygraphCanvasRenderer._linePlotter=function(e){var t=e.dygraph;var n=e.setName;var r=e.strokeWidth;var i=t.getOption("strokeBorderWidth",n);var s=t.getOption("drawPointCallback",n)||Dygraph.Circles.DEFAULT;var o=t.getOption("strokePattern",n);var u=t.getOption("drawPoints",n);var a=t.getOption("pointSize",n);if(i&&r){DygraphCanvasRenderer._drawStyledLine(e,t.getOption("strokeBorderColor",n),r+2*i,o,u,s,a)}DygraphCanvasRenderer._drawStyledLine(e,e.color,r,o,u,s,a)};DygraphCanvasRenderer._errorPlotter=function(e){var t=e.dygraph;var n=e.setName;var r=t.getOption("errorBars")||t.getOption("customBars");if(!r){return}var i=t.getOption("fillGraph",n);if(i){t.warn("Can't use fillGraph option with error bars")}var s=e.drawingContext;var o=e.color;var u=t.getOption("fillAlpha",n);var a=t.getOption("stepPlot",n);var f=e.points;var l=Dygraph.createIterator(f,0,f.length,DygraphCanvasRenderer._getIteratorPredicate(t.getOption("connectSeparatedPoints")));var c;var h=NaN;var p=NaN;var d=[-1,-1];var v=new RGBColorParser(o);var m="rgba("+v.r+","+v.g+","+v.b+","+u+")";s.fillStyle=m;s.beginPath();var g=function(e){return e===null||e===undefined||isNaN(e)};while(l.hasNext){var y=l.next();if(!a&&g(y.y)||a&&!isNaN(p)&&g(p)){h=NaN;continue}if(a){c=[y.y_bottom,y.y_top];p=y.y}else{c=[y.y_bottom,y.y_top]}c[0]=e.plotArea.h*c[0]+e.plotArea.y;c[1]=e.plotArea.h*c[1]+e.plotArea.y;if(!isNaN(h)){if(a){s.moveTo(h,d[0]);s.lineTo(y.canvasx,d[0]);s.lineTo(y.canvasx,d[1])}else{s.moveTo(h,d[0]);s.lineTo(y.canvasx,c[0]);s.lineTo(y.canvasx,c[1])}s.lineTo(h,d[1]);s.closePath()}d=c;h=y.canvasx}s.fill()};DygraphCanvasRenderer._fillPlotter=function(e){if(e.singleSeriesName){return}if(e.seriesIndex!==0){return}var t=e.dygraph;var n=t.getLabels().slice(1);for(var r=n.length;r>=0;r--){if(!t.visibility()[r]){n.splice(r,1)}}var i=function(){for(var e=0;e<n.length;e++){if(t.getOption("fillGraph",n[e])){return true}}return false}();if(!i){return}var s=e.drawingContext;var o=e.plotArea;var u=e.allSeriesPoints;var a=u.length;var f=t.getOption("fillAlpha");var l=t.getOption("stackedGraph");var c=t.getColors();var h={};var p;var d;for(var v=a-1;v>=0;v--){var m=n[v];if(!t.getOption("fillGraph",m)){continue}var g=t.getOption("stepPlot",m);var y=c[v];var b=t.axisPropertiesForSeries(m);var w=1+b.minyval*b.yscale;if(w<0){w=0}else{if(w>1){w=1}}w=o.h*w+o.y;var E=u[v];var S=Dygraph.createIterator(E,0,E.length,DygraphCanvasRenderer._getIteratorPredicate(t.getOption("connectSeparatedPoints")));var x=NaN;var T=[-1,-1];var N;var C=new RGBColorParser(y);var k="rgba("+C.r+","+C.g+","+C.b+","+f+")";s.fillStyle=k;s.beginPath();var L,A=true;while(S.hasNext){var O=S.next();if(!Dygraph.isOK(O.y)){x=NaN;continue}if(l){if(!A&&L==O.xval){continue}else{A=false;L=O.xval}p=h[O.canvasx];var M;if(p===undefined){M=w}else{if(d){M=p[0]}else{M=p}}N=[O.canvasy,M];if(g){if(T[0]===-1){h[O.canvasx]=[O.canvasy,w]}else{h[O.canvasx]=[O.canvasy,T[0]]}}else{h[O.canvasx]=O.canvasy}}else{N=[O.canvasy,w]}if(!isNaN(x)){s.moveTo(x,T[0]);if(g){s.lineTo(O.canvasx,T[0])}else{s.lineTo(O.canvasx,N[0])}if(d&&p){s.lineTo(O.canvasx,p[1])}else{s.lineTo(O.canvasx,N[1])}s.lineTo(x,T[1]);s.closePath()}T=N;x=O.canvasx}d=g;s.fill()}};"use strict";var Dygraph=function(e,t,n,r){if(r!==undefined){this.warn("Using deprecated four-argument dygraph constructor");this.__old_init__(e,t,n,r)}else{this.__init__(e,t,n)}};Dygraph.NAME="Dygraph";Dygraph.VERSION="1.2";Dygraph.__repr__=function(){return"["+this.NAME+" "+this.VERSION+"]"};Dygraph.toString=function(){return this.__repr__()};Dygraph.DEFAULT_ROLL_PERIOD=1;Dygraph.DEFAULT_WIDTH=480;Dygraph.DEFAULT_HEIGHT=320;Dygraph.ANIMATION_STEPS=12;Dygraph.ANIMATION_DURATION=200;Dygraph.KMB_LABELS=["K","M","B","T","Q"];Dygraph.KMG2_BIG_LABELS=["k","M","G","T","P","E","Z","Y"];Dygraph.KMG2_SMALL_LABELS=["m","u","n","p","f","a","z","y"];Dygraph.numberValueFormatter=function(e,t,n,r){var i=t("sigFigs");if(i!==null){return Dygraph.floatFormat(e,i)}var s=t("digitsAfterDecimal");var o=t("maxNumberWidth");var u=t("labelsKMB");var a=t("labelsKMG2");var f;if(e!==0&&(Math.abs(e)>=Math.pow(10,o)||Math.abs(e)<Math.pow(10,-s))){f=e.toExponential(s)}else{f=""+Dygraph.round_(e,s)}if(u||a){var l;var c=[];var h=[];if(u){l=1e3;c=Dygraph.KMB_LABELS}if(a){if(u){Dygraph.warn("Setting both labelsKMB and labelsKMG2. Pick one!")}l=1024;c=Dygraph.KMG2_BIG_LABELS;h=Dygraph.KMG2_SMALL_LABELS}var p=Math.abs(e);var d=Dygraph.pow(l,c.length);for(var v=c.length-1;v>=0;v--,d/=l){if(p>=d){f=Dygraph.round_(e/d,s)+c[v];break}}if(a){var m=String(e.toExponential()).split("e-");if(m.length===2&&m[1]>=3&&m[1]<=24){if(m[1]%3>0){f=Dygraph.round_(m[0]/Dygraph.pow(10,m[1]%3),s)}else{f=Number(m[0]).toFixed(2)}f+=h[Math.floor(m[1]/3)-1]}}}return f};Dygraph.numberAxisLabelFormatter=function(e,t,n,r){return Dygraph.numberValueFormatter(e,n,r)};Dygraph.dateString_=function(e){var t=Dygraph.zeropad;var n=new Date(e);var r=""+n.getFullYear();var i=t(n.getMonth()+1);var s=t(n.getDate());var o="";var u=n.getHours()*3600+n.getMinutes()*60+n.getSeconds();if(u){o=" "+Dygraph.hmsString_(e)}return r+"/"+i+"/"+s+o};Dygraph.dateAxisFormatter=function(e,t){if(t>=Dygraph.DECADAL){return e.strftime("%Y")}else{if(t>=Dygraph.MONTHLY){return e.strftime("%b %y")}else{var n=e.getHours()*3600+e.getMinutes()*60+e.getSeconds()+e.getMilliseconds();if(n===0||t>=Dygraph.DAILY){return(new Date(e.getTime()+3600*1e3)).strftime("%d%b")}else{return Dygraph.hmsString_(e.getTime())}}}};Dygraph.Plotters=DygraphCanvasRenderer._Plotters;Dygraph.DEFAULT_ATTRS={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:false,labelsShowZeroValues:true,labelsKMB:false,labelsKMG2:false,showLabelsOnHighlight:true,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,xAxisLabelWidth:50,yAxisLabelWidth:50,rightGap:5,showRoller:false,xValueParser:Dygraph.dateParser,delimiter:",",sigma:2,errorBars:false,fractions:false,wilsonInterval:true,customBars:false,fillGraph:false,fillAlpha:.15,connectSeparatedPoints:false,stackedGraph:false,hideOverlayOnMouseOut:true,legend:"onmouseover",stepPlot:false,avoidMinZero:false,xRangePad:0,yRangePad:null,drawAxesAtZero:false,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:true,drawYAxis:true,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelColor:"black",axisLabelFont:"Arial",axisLabelWidth:50,drawYGrid:true,drawXGrid:true,gridLineColor:"rgb(128,128,128)",interactionModel:null,animatedZooms:false,showRangeSelector:false,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillColor:"#A7B1C4",plotter:[Dygraph.Plotters.fillPlotter,Dygraph.Plotters.errorPlotter,Dygraph.Plotters.linePlotter],plugins:[],axes:{x:{pixelsPerLabel:60,axisLabelFormatter:Dygraph.dateAxisFormatter,valueFormatter:Dygraph.dateString_,ticker:null},y:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,ticker:null},y2:{pixelsPerLabel:30,valueFormatter:Dygraph.numberValueFormatter,axisLabelFormatter:Dygraph.numberAxisLabelFormatter,ticker:null}}};Dygraph.HORIZONTAL=1;Dygraph.VERTICAL=2;Dygraph.PLUGINS=[];Dygraph.addedAnnotationCSS=false;Dygraph.prototype.__old_init__=function(e,t,n,r){if(n!==null){var i=["Date"];for(var s=0;s<n.length;s++){i.push(n[s])}Dygraph.update(r,{labels:i})}this.__init__(e,t,r)};Dygraph.prototype.__init__=function(e,t,n){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&typeof G_vmlCanvasManager!="undefined"&&document.readyState!="complete"){var r=this;setTimeout(function(){r.__init__(e,t,n)},100);return}if(n===null||n===undefined){n={}}n=Dygraph.mapLegacyOptions_(n);if(typeof e=="string"){e=document.getElementById(e)}if(!e){Dygraph.error("Constructing dygraph with a non-existent div!");return}this.isUsingExcanvas_=typeof G_vmlCanvasManager!="undefined";this.maindiv_=e;this.file_=t;this.rollPeriod_=n.rollPeriod||Dygraph.DEFAULT_ROLL_PERIOD;this.previousVerticalX_=-1;this.fractions_=n.fractions||false;this.dateWindow_=n.dateWindow||null;this.is_initial_draw_=true;this.annotations_=[];this.zoomed_x_=false;this.zoomed_y_=false;e.innerHTML="";if(e.style.width===""&&n.width){e.style.width=n.width+"px"}if(e.style.height===""&&n.height){e.style.height=n.height+"px"}if(e.style.height===""&&e.clientHeight===0){e.style.height=Dygraph.DEFAULT_HEIGHT+"px";if(e.style.width===""){e.style.width=Dygraph.DEFAULT_WIDTH+"px"}}this.width_=e.clientWidth;this.height_=e.clientHeight;if(n.stackedGraph){n.fillGraph=true}this.user_attrs_={};Dygraph.update(this.user_attrs_,n);this.attrs_={};Dygraph.updateDeep(this.attrs_,Dygraph.DEFAULT_ATTRS);this.boundaryIds_=[];this.setIndexByName_={};this.datasetIndex_=[];this.registeredEvents_=[];this.eventListeners_={};this.attributes_=new DygraphOptions(this);this.createInterface_();this.plugins_=[];var i=Dygraph.PLUGINS.concat(this.getOption("plugins"));for(var s=0;s<i.length;s++){var o=i[s];var u=new o;var a={plugin:u,events:{},options:{},pluginOptions:{}};var f=u.activate(this);for(var l in f){a.events[l]=f[l]}this.plugins_.push(a)}for(var s=0;s<this.plugins_.length;s++){var c=this.plugins_[s];for(var l in c.events){if(!c.events.hasOwnProperty(l)){continue}var h=c.events[l];var p=[c.plugin,h];if(!(l in this.eventListeners_)){this.eventListeners_[l]=[p]}else{this.eventListeners_[l].push(p)}}}this.createDragInterface_();this.start_()};Dygraph.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_)){return true}var n={dygraph:this,cancelable:false,defaultPrevented:false,preventDefault:function(){if(!n.cancelable){throw"Cannot call preventDefault on non-cancelable event."}n.defaultPrevented=true},propagationStopped:false,stopPropagation:function(){n.propagationStopped=true}};Dygraph.update(n,t);var r=this.eventListeners_[e];if(r){for(var i=r.length-1;i>=0;i--){var s=r[i][0];var o=r[i][1];o.call(s,n);if(n.propagationStopped){break}}}return n.defaultPrevented};Dygraph.prototype.isZoomed=function(e){if(e===null||e===undefined){return this.zoomed_x_||this.zoomed_y_}if(e==="x"){return this.zoomed_x_}if(e==="y"){return this.zoomed_y_}throw"axis parameter is ["+e+"] must be null, 'x' or 'y'."};Dygraph.prototype.toString=function(){var e=this.maindiv_;var t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"};Dygraph.prototype.attr_=function(e,t){return t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)};Dygraph.prototype.getOption=function(e,t){return this.attr_(e,t)};Dygraph.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)};Dygraph.prototype.optionsViewForAxis_=function(e){var t=this;return function(n){var r=t.user_attrs_.axes;if(r&&r[e]&&r[e].hasOwnProperty(n)){return r[e][n]}if(typeof t.user_attrs_[n]!="undefined"){return t.user_attrs_[n]}r=t.attrs_.axes;if(r&&r[e]&&r[e].hasOwnProperty(n)){return r[e][n]}if(e=="y"&&t.axes_[0].hasOwnProperty(n)){return t.axes_[0][n]}else{if(e=="y2"&&t.axes_[1].hasOwnProperty(n)){return t.axes_[1][n]}}return t.attr_(n)}};Dygraph.prototype.rollPeriod=function(){return this.rollPeriod_};Dygraph.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};Dygraph.prototype.xAxisExtremes=function(){var e=this.attr_("xRangePad")/this.plotter_.area.w;if(this.numRows()===0){return[0-e,1+e]}var t=this.rawData_[0][0];var n=this.rawData_[this.rawData_.length-1][0];if(e){var r=n-t;t-=r*e;n+=r*e}return[t,n]};Dygraph.prototype.yAxisRange=function(e){if(typeof e=="undefined"){e=0}if(e<0||e>=this.axes_.length){return null}var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]};Dygraph.prototype.yAxisRanges=function(){var e=[];for(var t=0;t<this.axes_.length;t++){e.push(this.yAxisRange(t))}return e};Dygraph.prototype.toDomCoords=function(e,t,n){return[this.toDomXCoord(e),this.toDomYCoord(t,n)]};Dygraph.prototype.toDomXCoord=function(e){if(e===null){return null}var t=this.plotter_.area;var n=this.xAxisRange();return t.x+(e-n[0])/(n[1]-n[0])*t.w};Dygraph.prototype.toDomYCoord=function(e,t){var n=this.toPercentYCoord(e,t);if(n===null){return null}var r=this.plotter_.area;return r.y+n*r.h};Dygraph.prototype.toDataCoords=function(e,t,n){return[this.toDataXCoord(e),this.toDataYCoord(t,n)]};Dygraph.prototype.toDataXCoord=function(e){if(e===null){return null}var t=this.plotter_.area;var n=this.xAxisRange();return n[0]+(e-t.x)/t.w*(n[1]-n[0])};Dygraph.prototype.toDataYCoord=function(e,t){if(e===null){return null}var n=this.plotter_.area;var r=this.yAxisRange(t);if(typeof t=="undefined"){t=0}if(!this.axes_[t].logscale){return r[0]+(n.y+n.h-e)/n.h*(r[1]-r[0])}else{var i=(e-n.y)/n.h;var s=Dygraph.log10(r[1]);var o=s-i*(s-Dygraph.log10(r[0]));var u=Math.pow(Dygraph.LOG_SCALE,o);return u}};Dygraph.prototype.toPercentYCoord=function(e,t){if(e===null){return null}if(typeof t=="undefined"){t=0}var n=this.yAxisRange(t);var r;var i=this.attributes_.getForAxis("logscale",t);if(!i){r=(n[1]-e)/(n[1]-n[0])}else{var s=Dygraph.log10(n[1]);r=(s-Dygraph.log10(e))/(s-Dygraph.log10(n[0]))}return r};Dygraph.prototype.toPercentXCoord=function(e){if(e===null){return null}var t=this.xAxisRange();return(e-t[0])/(t[1]-t[0])};Dygraph.prototype.numColumns=function(){if(!this.rawData_){return 0}return this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length};Dygraph.prototype.numRows=function(){if(!this.rawData_){return 0}return this.rawData_.length};Dygraph.prototype.getValue=function(e,t){if(e<0||e>this.rawData_.length){return null}if(t<0||t>this.rawData_[e].length){return null}return this.rawData_[e][t]};Dygraph.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div");this.graphDiv.style.width=this.width_+"px";this.graphDiv.style.height=this.height_+"px";this.graphDiv.style.textAlign="left";e.appendChild(this.graphDiv);this.canvas_=Dygraph.createCanvas();this.canvas_.style.position="absolute";this.canvas_.width=this.width_;this.canvas_.height=this.height_;this.canvas_.style.width=this.width_+"px";this.canvas_.style.height=this.height_+"px";this.canvas_ctx_=Dygraph.getContext(this.canvas_);this.hidden_=this.createPlotKitCanvas_(this.canvas_);this.hidden_ctx_=Dygraph.getContext(this.hidden_);this.graphDiv.appendChild(this.hidden_);this.graphDiv.appendChild(this.canvas_);this.mouseEventElement_=this.createMouseEventElement_();this.layout_=new DygraphLayout(this);var t=this;this.mouseMoveHandler_=function(e){t.mouseMove_(e)};this.mouseOutHandler_=function(e){var n=e.target||e.fromElement;var r=e.relatedTarget||e.toElement;if(Dygraph.isNodeContainedBy(n,t.graphDiv)&&!Dygraph.isNodeContainedBy(r,t.graphDiv)){t.mouseOut_(e)}};this.addEvent(window,"mouseout",this.mouseOutHandler_);this.addEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);if(!this.resizeHandler_){this.resizeHandler_=function(e){t.resize()};this.addEvent(window,"resize",this.resizeHandler_)}};Dygraph.prototype.destroy=function(){var e=function(t){while(t.hasChildNodes()){e(t.firstChild);t.removeChild(t.firstChild)}};if(this.registeredEvents_){for(var t=0;t<this.registeredEvents_.length;t++){var n=this.registeredEvents_[t];Dygraph.removeEvent(n.elem,n.type,n.fn)}}this.registeredEvents_=[];Dygraph.removeEvent(window,"mouseout",this.mouseOutHandler_);Dygraph.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);Dygraph.removeEvent(this.mouseEventElement_,"mouseup",this.mouseUpHandler_);Dygraph.removeEvent(window,"resize",this.resizeHandler_);this.resizeHandler_=null;e(this.maindiv_);var r=function(e){for(var t in e){if(typeof e[t]==="object"){e[t]=null}}};r(this.layout_);r(this.plotter_);r(this)};Dygraph.prototype.createPlotKitCanvas_=function(e){var t=Dygraph.createCanvas();t.style.position="absolute";t.style.top=e.style.top;t.style.left=e.style.left;t.width=this.width_;t.height=this.height_;t.style.width=this.width_+"px";t.style.height=this.height_+"px";return t};Dygraph.prototype.createMouseEventElement_=function(){if(this.isUsingExcanvas_){var e=document.createElement("div");e.style.position="absolute";e.style.backgroundColor="white";e.style.filter="alpha(opacity=0)";e.style.width=this.width_+"px";e.style.height=this.height_+"px";this.graphDiv.appendChild(e);return e}else{return this.canvas_}};Dygraph.prototype.setColors_=function(){var e=this.getLabels();var t=e.length-1;this.colors_=[];this.colorsMap_={};var n=this.attr_("colors");var r;if(!n){var i=this.attr_("colorSaturation")||1;var s=this.attr_("colorValue")||.5;var o=Math.ceil(t/2);for(r=1;r<=t;r++){if(!this.visibility()[r-1]){continue}var u=r%2?Math.ceil(r/2):o+r/2;var a=1*u/(1+t);var f=Dygraph.hsvToRGB(a,i,s);this.colors_.push(f);this.colorsMap_[e[r]]=f}}else{for(r=0;r<t;r++){if(!this.visibility()[r]){continue}var f=n[r%n.length];this.colors_.push(f);this.colorsMap_[e[1+r]]=f}}};Dygraph.prototype.getColors=function(){return this.colors_};Dygraph.prototype.getPropertiesForSeries=function(e){var t=-1;var n=this.getLabels();for(var r=1;r<n.length;r++){if(n[r]==e){t=r;break}}if(t==-1){return null}return{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}};Dygraph.prototype.createRollInterface_=function(){if(!this.roller_){this.roller_=document.createElement("input");this.roller_.type="text";this.roller_.style.display="none";this.graphDiv.appendChild(this.roller_)}var e=this.attr_("showRoller")?"block":"none";var t=this.plotter_.area;var n={position:"absolute",zIndex:10,top:t.y+t.h-25+"px",left:t.x+1+"px",display:e};this.roller_.size="2";this.roller_.value=this.rollPeriod_;for(var r in n){if(n.hasOwnProperty(r)){this.roller_.style[r]=n[r]}}var i=this;this.roller_.onchange=function(){i.adjustRoll(i.roller_.value)}};Dygraph.prototype.dragGetX_=function(e,t){return Dygraph.pageX(e)-t.px};Dygraph.prototype.dragGetY_=function(e,t){return Dygraph.pageY(e)-t.py};Dygraph.prototype.createDragInterface_=function(){var e={isZooming:false,isPanning:false,is2DPan:false,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:false,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Dygraph.IFrameTarp,initializeMouseDown:function(e,t,n){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false;e.cancelBubble=true}n.px=Dygraph.findPosX(t.canvas_);n.py=Dygraph.findPosY(t.canvas_);n.dragStartX=t.dragGetX_(e,n);n.dragStartY=t.dragGetY_(e,n);n.cancelNextDblclick=false;n.tarp.cover()}};var t=this.attr_("interactionModel");var n=this;var r=function(t){return function(r){t(r,n,e)}};for(var i in t){if(!t.hasOwnProperty(i)){continue}this.addEvent(this.mouseEventElement_,i,r(t[i]))}if(this.mouseUpHandler_){Dygraph.removeEvent(document,"mouseup",this.mouseUpHandler_)}this.mouseUpHandler_=function(t){if(e.isZooming||e.isPanning){e.isZooming=false;e.dragStartX=null;e.dragStartY=null}if(e.isPanning){e.isPanning=false;e.draggingDate=null;e.dateRange=null;for(var r=0;r<n.axes_.length;r++){delete n.axes_[r].draggingValue;delete n.axes_[r].dragValueRange}}e.tarp.uncover()};this.addEvent(document,"mouseup",this.mouseUpHandler_)};Dygraph.prototype.drawZoomRect_=function(e,t,n,r,i,s,o,u){var a=this.canvas_ctx_;if(s==Dygraph.HORIZONTAL){a.clearRect(Math.min(t,o),this.layout_.getPlotArea().y,Math.abs(t-o),this.layout_.getPlotArea().h)}else{if(s==Dygraph.VERTICAL){a.clearRect(this.layout_.getPlotArea().x,Math.min(r,u),this.layout_.getPlotArea().w,Math.abs(r-u))}}if(e==Dygraph.HORIZONTAL){if(n&&t){a.fillStyle="rgba(128,128,128,0.33)";a.fillRect(Math.min(t,n),this.layout_.getPlotArea().y,Math.abs(n-t),this.layout_.getPlotArea().h)}}else{if(e==Dygraph.VERTICAL){if(i&&r){a.fillStyle="rgba(128,128,128,0.33)";a.fillRect(this.layout_.getPlotArea().x,Math.min(r,i),this.layout_.getPlotArea().w,Math.abs(i-r))}}}if(this.isUsingExcanvas_){this.currentZoomRectArgs_=[e,t,n,r,i,0,0,0]}};Dygraph.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null;this.canvas_ctx_.clearRect(0,0,this.canvas_.width,this.canvas_.height)};Dygraph.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var n=this.toDataXCoord(e);var r=this.toDataXCoord(t);this.doZoomXDates_(n,r)};Dygraph.zoomAnimationFunction=function(e,t){var n=1.5;return(1-Math.pow(n,-e))/(1-Math.pow(n,-t))};Dygraph.prototype.doZoomXDates_=function(e,t){var n=this.xAxisRange();var r=[e,t];this.zoomed_x_=true;var i=this;this.doAnimatedZoom(n,r,null,null,function(){if(i.attr_("zoomCallback")){i.attr_("zoomCallback")(e,t,i.yAxisRanges())}})};Dygraph.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;var n=this.yAxisRanges();var r=[];for(var i=0;i<this.axes_.length;i++){var s=this.toDataYCoord(e,i);var o=this.toDataYCoord(t,i);r.push([o,s])}this.zoomed_y_=true;var u=this;this.doAnimatedZoom(null,null,n,r,function(){if(u.attr_("zoomCallback")){var e=u.xAxisRange();u.attr_("zoomCallback")(e[0],e[1],u.yAxisRanges())}})};Dygraph.prototype.resetZoom=function(){var e=false,t=false,n=false;if(this.dateWindow_!==null){e=true;t=true}for(var r=0;r<this.axes_.length;r++){if(typeof this.axes_[r].valueWindow!=="undefined"&&this.axes_[r].valueWindow!==null){e=true;n=true}}this.clearSelection();if(e){this.zoomed_x_=false;this.zoomed_y_=false;var i=this.rawData_[0][0];var s=this.rawData_[this.rawData_.length-1][0];if(!this.attr_("animatedZooms")){this.dateWindow_=null;for(r=0;r<this.axes_.length;r++){if(this.axes_[r].valueWindow!==null){delete this.axes_[r].valueWindow}}this.drawGraph_();if(this.attr_("zoomCallback")){this.attr_("zoomCallback")(i,s,this.yAxisRanges())}return}var o=null,u=null,a=null,f=null;if(t){o=this.xAxisRange();u=[i,s]}if(n){a=this.yAxisRanges();var l=this.gatherDatasets_(this.rolledSeries_,null);var c=l[1];this.computeYAxisRanges_(c);f=[];for(r=0;r<this.axes_.length;r++){var h=this.axes_[r];f.push(h.valueRange!==null&&h.valueRange!==undefined?h.valueRange:h.extremeRange)}}var p=this;this.doAnimatedZoom(o,u,a,f,function(){p.dateWindow_=null;for(var e=0;e<p.axes_.length;e++){if(p.axes_[e].valueWindow!==null){delete p.axes_[e].valueWindow}}if(p.attr_("zoomCallback")){p.attr_("zoomCallback")(i,s,p.yAxisRanges())}})}};Dygraph.prototype.doAnimatedZoom=function(e,t,n,r,i){var s=this.attr_("animatedZooms")?Dygraph.ANIMATION_STEPS:1;var o=[];var u=[];var a,f;if(e!==null&&t!==null){for(a=1;a<=s;a++){f=Dygraph.zoomAnimationFunction(a,s);o[a-1]=[e[0]*(1-f)+f*t[0],e[1]*(1-f)+f*t[1]]}}if(n!==null&&r!==null){for(a=1;a<=s;a++){f=Dygraph.zoomAnimationFunction(a,s);var l=[];for(var c=0;c<this.axes_.length;c++){l.push([n[c][0]*(1-f)+f*r[c][0],n[c][1]*(1-f)+f*r[c][1]])}u[a-1]=l}}var h=this;Dygraph.repeatAndCleanup(function(e){if(u.length){for(var t=0;t<h.axes_.length;t++){var n=u[e][t];h.axes_[t].valueWindow=[n[0],n[1]]}}if(o.length){h.dateWindow_=o[e]}h.drawGraph_()},s,Dygraph.ANIMATION_DURATION/s,i)};Dygraph.prototype.getArea=function(){return this.plotter_.area};Dygraph.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY){return[e.offsetX,e.offsetY]}else{var t=Dygraph.pageX(e)-Dygraph.findPosX(this.mouseEventElement_);var n=Dygraph.pageY(e)-Dygraph.findPosY(this.mouseEventElement_);return[t,n]}};Dygraph.prototype.findClosestRow=function(e){var t=Infinity;var n=-1,r=-1;var i=this.layout_.points;for(var s=0;s<i.length;s++){var o=i[s];var u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!Dygraph.isValidPoint(f,true)){continue}var l=Math.abs(f.canvasx-e);if(l<t){t=l;r=s;n=a}}}return this.idxToRow_(r,n)};Dygraph.prototype.findClosestPoint=function(e,t){var n=Infinity;var r=-1;var i,s,o,u,a,f;for(var l=this.layout_.datasets.length-1;l>=0;--l){var c=this.layout_.points[l];for(var h=0;h<c.length;++h){var u=c[h];if(!Dygraph.isValidPoint(u)){continue}s=u.canvasx-e;o=u.canvasy-t;i=s*s+o*o;if(i<n){n=i;a=u;f=l;r=h}}}var p=this.layout_.setNames[f];return{row:r+this.getLeftBoundary_(),seriesName:p,point:a}};Dygraph.prototype.findStackedPoint=function(e,t){var n=this.findClosestRow(e);var r=this.getLeftBoundary_();var i=n-r;var s,o;for(var u=0;u<this.layout_.datasets.length;++u){var a=this.layout_.points[u];if(i>=a.length){continue}var f=a[i];if(!Dygraph.isValidPoint(f)){continue}var l=f.canvasy;if(e>f.canvasx&&i+1<a.length){var c=a[i+1];if(Dygraph.isValidPoint(c)){var h=c.canvasx-f.canvasx;if(h>0){var p=(e-f.canvasx)/h;l+=p*(c.canvasy-f.canvasy)}}}else{if(e<f.canvasx&&i>0){var d=a[i-1];if(Dygraph.isValidPoint(d)){var h=f.canvasx-d.canvasx;if(h>0){var p=(f.canvasx-e)/h;l+=p*(d.canvasy-f.canvasy)}}}}if(u===0||l<t){s=f;o=u}}var v=this.layout_.setNames[o];return{row:n,seriesName:v,point:s}};Dygraph.prototype.mouseMove_=function(e){var t=this.layout_.points;if(t===undefined||t===null){return}var n=this.eventToDomCoords(e);var r=n[0];var i=n[1];var s=this.attr_("highlightSeriesOpts");var o=false;if(s&&!this.isSeriesLocked()){var u;if(this.attr_("stackedGraph")){u=this.findStackedPoint(r,i)}else{u=this.findClosestPoint(r,i)}o=this.setSelection(u.row,u.seriesName)}else{var a=this.findClosestRow(r);o=this.setSelection(a)}var f=this.attr_("highlightCallback");if(f&&o){f(e,this.lastx_,this.selPoints_,this.lastRow_+this.getLeftBoundary_(),this.highlightSet_)}};Dygraph.prototype.getLeftBoundary_=function(){for(var e=0;e<this.boundaryIds_.length;e++){if(this.boundaryIds_[e]!==undefined){return this.boundaryIds_[e][0]}}return 0};Dygraph.prototype.idxToRow_=function(e,t){if(t<0){return-1}var n=this.getLeftBoundary_();return n+t};Dygraph.prototype.animateSelection_=function(e){var t=10;var n=30;if(this.fadeLevel===undefined){this.fadeLevel=0}if(this.animateId===undefined){this.animateId=0}var r=this.fadeLevel;var i=e<0?r:t-r;if(i<=0){if(this.fadeLevel){this.updateSelection_(1)}return}var s=++this.animateId;var o=this;Dygraph.repeatAndCleanup(function(n){if(o.animateId!=s){return}o.fadeLevel+=e;if(o.fadeLevel===0){o.clearSelection()}else{o.updateSelection_(o.fadeLevel/t)}},i,n,function(){})};Dygraph.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedX:this.lastx_,selectedPoints:this.selPoints_});var t;var n=this.canvas_ctx_;if(this.attr_("highlightSeriesOpts")){n.clearRect(0,0,this.width_,this.height_);var r=1-this.attr_("highlightSeriesBackgroundAlpha");if(r){var i=true;if(i){if(e===undefined){this.animateSelection_(1);return}r*=e}n.fillStyle="rgba(255,255,255,"+r+")";n.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,n)}else{if(this.previousVerticalX_>=0){var s=0;var o=this.attr_("labels");for(t=1;t<o.length;t++){var u=this.attr_("highlightCircleSize",o[t]);if(u>s){s=u}}var a=this.previousVerticalX_;n.clearRect(a-s-1,0,2*s+2,this.height_)}}if(this.isUsingExcanvas_&&this.currentZoomRectArgs_){Dygraph.prototype.drawZoomRect_.apply(this,this.currentZoomRectArgs_)}if(this.selPoints_.length>0){var f=this.selPoints_[0].canvasx;n.save();for(t=0;t<this.selPoints_.length;t++){var l=this.selPoints_[t];if(!Dygraph.isOK(l.canvasy)){continue}var c=this.attr_("highlightCircleSize",l.name);var h=this.attr_("drawHighlightPointCallback",l.name);var p=this.plotter_.colors[l.name];if(!h){h=Dygraph.Circles.DEFAULT}n.lineWidth=this.attr_("strokeWidth",l.name);n.strokeStyle=p;n.fillStyle=p;h(this.g,l.name,n,f,l.canvasy,p,c,l.idx)}n.restore();this.previousVerticalX_=f}};Dygraph.prototype.setSelection=function(e,t,n){this.selPoints_=[];if(e!==false){e-=this.getLeftBoundary_()}var r=false;if(e!==false&&e>=0){if(e!=this.lastRow_){r=true}this.lastRow_=e;for(var i=0;i<this.layout_.datasets.length;++i){var s=this.layout_.datasets[i];if(e<s.length){var o=this.layout_.points[i][e];if(this.attr_("stackedGraph")){o=this.layout_.unstackPointAtIndex(i,e)}if(o.yval!==null){this.selPoints_.push(o)}}}}else{if(this.lastRow_>=0){r=true}this.lastRow_=-1}if(this.selPoints_.length){this.lastx_=this.selPoints_[0].xval}else{this.lastx_=-1}if(t!==undefined){if(this.highlightSet_!==t){r=true}this.highlightSet_=t}if(n!==undefined){this.lockedSet_=n}if(r){this.updateSelection_(undefined)}return r};Dygraph.prototype.mouseOut_=function(e){if(this.attr_("unhighlightCallback")){this.attr_("unhighlightCallback")(e)}if(this.attr_("hideOverlayOnMouseOut")&&!this.lockedSet_){this.clearSelection()}};Dygraph.prototype.clearSelection=function(){this.cascadeEvents_("deselect",{});this.lockedSet_=false;if(this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_);this.fadeLevel=0;this.selPoints_=[];this.lastx_=-1;this.lastRow_=-1;this.highlightSet_=null};Dygraph.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1){return-1}for(var e=0;e<this.layout_.points.length;e++){var t=this.layout_.points[e];for(var n=0;n<t.length;n++){if(t[n].x==this.selPoints_[0].x){return n+this.getLeftBoundary_()}}}return-1};Dygraph.prototype.getHighlightSeries=function(){return this.highlightSet_};Dygraph.prototype.isSeriesLocked=function(){return this.lockedSet_};Dygraph.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e);this.predraw_()};Dygraph.prototype.addXTicks_=function(){var e;if(this.dateWindow_){e=[this.dateWindow_[0],this.dateWindow_[1]]}else{e=this.xAxisExtremes()}var t=this.optionsViewForAxis_("x");var n=t("ticker")(e[0],e[1],this.width_,t,this);this.layout_.setXTicks(n)};Dygraph.prototype.extremeValues_=function(e){var t=null,n=null,r,i;var s=this.attr_("errorBars")||this.attr_("customBars");if(s){for(r=0;r<e.length;r++){i=e[r][1][0];if(i===null||isNaN(i)){continue}var o=i-e[r][1][1];var u=i+e[r][1][2];if(o>i){o=i}if(u<i){u=i}if(n===null||u>n){n=u}if(t===null||o<t){t=o}}}else{for(r=0;r<e.length;r++){i=e[r][1];if(i===null||isNaN(i)){continue}if(n===null||i>n){n=i}if(t===null||i<t){t=i}}}return[t,n]};Dygraph.prototype.predraw_=function(){var e=new Date;this.layout_.computePlotArea();this.computeYAxes_();if(this.plotter_){this.cascadeEvents_("clearChart");this.plotter_.clear()}this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_);this.createRollInterface_();this.cascadeEvents_("predraw");this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var n=this.attr_("logscale");var r=this.extractSeries_(this.rawData_,t,n);r=this.rollingAverage(r,this.rollPeriod_);this.rolledSeries_.push(r)}this.drawGraph_();var i=new Date;this.drawingTimeMs_=i-e};Dygraph.prototype.gatherDatasets_=function(e,t){var n=[];var r=[];var i=[];var s={};var o,u,a;var f=e.length-1;for(o=f;o>=1;o--){if(!this.visibility()[o-1]){continue}var l=[];for(u=0;u<e[o].length;u++){l.push(e[o][u])}var c=this.attr_("errorBars")||this.attr_("customBars");if(t){var h=t[0];var p=t[1];var d=[];var v=null,m=null;for(a=0;a<l.length;a++){if(l[a][0]>=h&&v===null){v=a}if(l[a][0]<=p){m=a}}if(v===null){v=0}if(v>0){v--}if(m===null){m=l.length-1}if(m<l.length-1){m++}n[o-1]=[v,m];for(a=v;a<=m;a++){d.push(l[a])}l=d}else{n[o-1]=[0,l.length-1]}var g=this.extremeValues_(l);if(c){for(u=0;u<l.length;u++){l[u]=[l[u][0],l[u][1][0],l[u][1][1],l[u][1][2]]}}else{if(this.attr_("stackedGraph")){var y,b=null;for(u=0;u<l.length;u++){var w=l[u][0];if(r[w]===undefined){r[w]=0}y=l[u][1];if(y===null){l[u]=[w,null];continue}if(b!=w){r[w]+=y}b=w;l[u]=[w,r[w]];if(r[w]>g[1]){g[1]=r[w]}if(r[w]<g[0]){g[0]=r[w]}}}}var E=this.attr_("labels")[o];s[E]=g;i[o]=l}if(this.attr_("stackedGraph")){for(a=i.length-1;a>=0;--a){if(!i[a]){continue}for(u=0;u<i[a].length;u++){var w=i[a][u][0];if(isNaN(r[w])){for(o=i.length-1;o>=0;o--){if(!i[o]){continue}i[o][u][1]=NaN}}}break}}return[i,s,n]};Dygraph.prototype.drawGraph_=function(){var e=new Date;var t=this.is_initial_draw_;this.is_initial_draw_=false;this.layout_.removeAllDatasets();this.setColors_();this.attrs_.pointSize=.5*this.attr_("highlightCircleSize");var n=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_);var r=n[0];var i=n[1];this.boundaryIds_=n[2];this.setIndexByName_={};var s=this.attr_("labels");if(s.length>0){this.setIndexByName_[s[0]]=0}var o=0;for(var u=1;u<r.length;u++){this.setIndexByName_[s[u]]=u;if(!this.visibility()[u-1]){continue}this.layout_.addDataset(s[u],r[u]);this.datasetIndex_[u]=o++}this.computeYAxisRanges_(i);this.layout_.setYAxes(this.axes_);this.addXTicks_();var a=this.zoomed_x_;this.layout_.setDateWindow(this.dateWindow_);this.zoomed_x_=a;this.layout_.evaluateWithError();this.renderGraph_(t);if(this.attr_("timingName")){var f=new Date;Dygraph.info(this.attr_("timingName")+" - drawGraph: "+(f-e)+"ms")}};Dygraph.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart");this.plotter_.clear();if(this.attr_("underlayCallback")){this.attr_("underlayCallback")(this.hidden_ctx_,this.layout_.getPlotArea(),this,this)}var t={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",t);this.plotter_.render();this.cascadeEvents_("didDrawChart",t);this.lastRow_=-1;this.canvas_.getContext("2d").clearRect(0,0,this.canvas_.width,this.canvas_.height);if(this.attr_("drawCallback")!==null){this.attr_("drawCallback")(this,e)}};Dygraph.prototype.computeYAxes_=function(){var e,t,n,r,i;if(this.axes_!==undefined&&this.user_attrs_.hasOwnProperty("valueRange")===false){e=[];for(n=0;n<this.axes_.length;n++){e.push(this.axes_[n].valueWindow)}}this.axes_=[];for(t=0;t<this.attributes_.numAxes();t++){r={g:this};Dygraph.update(r,this.attributes_.axisOptions(t));this.axes_[t]=r}i=this.attr_("valueRange");if(i){this.axes_[0].valueRange=i}if(e!==undefined){var s=Math.min(e.length,this.axes_.length);for(n=0;n<s;n++){this.axes_[n].valueWindow=e[n]}}for(t=0;t<this.axes_.length;t++){if(t===0){r=this.optionsViewForAxis_("y"+(t?"2":""));i=r("valueRange");if(i){this.axes_[t].valueRange=i}}else{var o=this.user_attrs_.axes;if(o&&o.y2){i=o.y2.valueRange;if(i){this.axes_[t].valueRange=i}}}}};Dygraph.prototype.numAxes=function(){return this.attributes_.numAxes()};Dygraph.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]};Dygraph.prototype.computeYAxisRanges_=function(e){var t=function(e){return isNaN(parseFloat(e))};var n=this.attributes_.numAxes();var r,i,s,o;for(var u=0;u<n;u++){var a=this.axes_[u];var f=this.attributes_.getForAxis("logscale",u);var l=this.attributes_.getForAxis("includeZero",u);s=this.attributes_.seriesForAxis(u);r=true;o=.1;if(this.attr_("yRangePad")!==null){r=false;o=this.attr_("yRangePad")/this.plotter_.area.h}if(s.length===0){a.extremeRange=[0,1]}else{var c=Infinity;var h=-Infinity;var p,d;for(var v=0;v<s.length;v++){if(!e.hasOwnProperty(s[v])){continue}p=e[s[v]][0];if(p!==null){c=Math.min(p,c)}d=e[s[v]][1];if(d!==null){h=Math.max(d,h)}}if(l&&!f){if(c>0){c=0}if(h<0){h=0}}if(c==Infinity){c=0}if(h==-Infinity){h=1}i=h-c;if(i===0){if(h!==0){i=Math.abs(h)}else{h=1;i=1}}var m,g;if(f){if(r){m=h+o*i;g=c}else{var y=Math.exp(Math.log(i)*o);m=h*y;g=c/y}}else{m=h+o*i;g=c-o*i;if(r&&!this.attr_("avoidMinZero")){if(g<0&&c>=0){g=0}if(m>0&&h<=0){m=0}}}a.extremeRange=[g,m]}if(a.valueWindow){a.computedValueRange=[a.valueWindow[0],a.valueWindow[1]]}else{if(a.valueRange){var b=t(a.valueRange[0])?a.extremeRange[0]:a.valueRange[0];var w=t(a.valueRange[1])?a.extremeRange[1]:a.valueRange[1];if(!r){if(a.logscale){var y=Math.exp(Math.log(i)*o);b*=y;w/=y}else{i=w-b;b-=i*o;w+=i*o}}a.computedValueRange=[b,w]}else{a.computedValueRange=a.extremeRange}}var E=this.optionsViewForAxis_("y"+(u?"2":""));var S=E("ticker");if(u===0||a.independentTicks){a.ticks=S(a.computedValueRange[0],a.computedValueRange[1],this.height_,E,this)}else{var x=this.axes_[0];var T=x.ticks;var N=x.computedValueRange[1]-x.computedValueRange[0];var C=a.computedValueRange[1]-a.computedValueRange[0];var k=[];for(var L=0;L<T.length;L++){var A=(T[L].v-x.computedValueRange[0])/N;var O=a.computedValueRange[0]+A*C;k.push(O)}a.ticks=S(a.computedValueRange[0],a.computedValueRange[1],this.height_,E,this,k)}}};Dygraph.prototype.extractSeries_=function(e,t,n){var r=[];var i=this.attr_("errorBars");var s=this.attr_("customBars");for(var o=0;o<e.length;o++){var u=e[o][0];var a=e[o][t];if(n){if(a<=0){a=null}}if(a!==null){r.push([u,a])}else{r.push([u,i?[null,null]:s?[null,null,null]:a])}}return r};Dygraph.prototype.rollingAverage=function(e,t){t=Math.min(t,e.length);var n=[];var r=this.attr_("sigma");var i,s,o,u,a,f,l,c;if(this.fractions_){var h=0;var p=0;var d=100;for(o=0;o<e.length;o++){h+=e[o][1][0];p+=e[o][1][1];if(o-t>=0){h-=e[o-t][1][0];p-=e[o-t][1][1]}var v=e[o][0];var m=p?h/p:0;if(this.attr_("errorBars")){if(this.attr_("wilsonInterval")){if(p){var g=m<0?0:m,y=p;var b=r*Math.sqrt(g*(1-g)/y+r*r/(4*y*y));var w=1+r*r/p;i=(g+r*r/(2*p)-b)/w;s=(g+r*r/(2*p)+b)/w;n[o]=[v,[g*d,(g-i)*d,(s-g)*d]]}else{n[o]=[v,[0,0,0]]}}else{c=p?r*Math.sqrt(m*(1-m)/p):1;n[o]=[v,[d*m,d*c,d*c]]}}else{n[o]=[v,d*m]}}}else{if(this.attr_("customBars")){i=0;var E=0;s=0;var S=0;for(o=0;o<e.length;o++){var x=e[o][1];a=x[1];n[o]=[e[o][0],[a,a-x[0],x[2]-a]];if(a!==null&&!isNaN(a)){i+=x[0];E+=a;s+=x[2];S+=1}if(o-t>=0){var T=e[o-t];if(T[1][1]!==null&&!isNaN(T[1][1])){i-=T[1][0];E-=T[1][1];s-=T[1][2];S-=1}}if(S){n[o]=[e[o][0],[1*E/S,1*(E-i)/S,1*(s-E)/S]]}else{n[o]=[e[o][0],[null,null,null]]}}}else{if(!this.attr_("errorBars")){if(t==1){return e}for(o=0;o<e.length;o++){f=0;l=0;for(u=Math.max(0,o-t+1);u<o+1;u++){a=e[u][1];if(a===null||isNaN(a)){continue}l++;f+=e[u][1]}if(l){n[o]=[e[o][0],f/l]}else{n[o]=[e[o][0],null]}}}else{for(o=0;o<e.length;o++){f=0;var N=0;l=0;for(u=Math.max(0,o-t+1);u<o+1;u++){a=e[u][1][0];if(a===null||isNaN(a)){continue}l++;f+=e[u][1][0];N+=Math.pow(e[u][1][1],2)}if(l){c=Math.sqrt(N)/l;n[o]=[e[o][0],[f/l,r*c,r*c]]}else{var C=t==1?e[o][1][0]:null;n[o]=[e[o][0],[C,C,C]]}}}}}return n};Dygraph.prototype.detectTypeFromString_=function(e){var t=false;var n=e.indexOf("-");if(n>0&&e[n-1]!="e"&&e[n-1]!="E"||e.indexOf("/")>=0||isNaN(parseFloat(e))){t=true}else{if(e.length==8&&e>"19700101"&&e<"20371231"){t=true}}this.setXAxisOptions_(t)};Dygraph.prototype.setXAxisOptions_=function(e){if(e){this.attrs_.xValueParser=Dygraph.dateParser;this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter}else{this.attrs_.xValueParser=function(e){return parseFloat(e)};this.attrs_.axes.x.valueFormatter=function(e){return e};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}};Dygraph.prototype.parseFloat_=function(e,t,n){var r=parseFloat(e);if(!isNaN(r)){return r}if(/^ *$/.test(e)){return null}if(/^ *nan *$/i.test(e)){return NaN}var i="Unable to parse '"+e+"' as a number";if(n!==null&&t!==null){i+=" on line "+(1+t)+" ('"+n+"') of CSV."}this.error(i);return null};Dygraph.prototype.parseCSV_=function(e){var t=[];var n=Dygraph.detectLineDelimiter(e);var r=e.split(n||"\n");var i,s;var o=this.attr_("delimiter");if(r[0].indexOf(o)==-1&&r[0].indexOf("	")>=0){o="	"}var u=0;if(!("labels"in this.user_attrs_)){u=1;this.attrs_.labels=r[0].split(o);this.attributes_.reparseSeries()}var a=0;var f;var l=false;var c=this.attr_("labels").length;var h=false;for(var p=u;p<r.length;p++){var d=r[p];a=p;if(d.length===0){continue}if(d[0]=="#"){continue}var v=d.split(o);if(v.length<2){continue}var m=[];if(!l){this.detectTypeFromString_(v[0]);f=this.attr_("xValueParser");l=true}m[0]=f(v[0],this);if(this.fractions_){for(s=1;s<v.length;s++){i=v[s].split("/");if(i.length!=2){this.error('Expected fractional "num/den" values in CSV data but found a value \''+v[s]+"' on line "+(1+p)+" ('"+d+"') which is not of this form.");m[s]=[0,0]}else{m[s]=[this.parseFloat_(i[0],p,d),this.parseFloat_(i[1],p,d)]}}}else{if(this.attr_("errorBars")){if(v.length%2!=1){this.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+p)+" has an odd number of values ("+(v.length-1)+"): '"+d+"'")}for(s=1;s<v.length;s+=2){m[(s+1)/2]=[this.parseFloat_(v[s],p,d),this.parseFloat_(v[s+1],p,d)]}}else{if(this.attr_("customBars")){for(s=1;s<v.length;s++){var g=v[s];if(/^ *$/.test(g)){m[s]=[null,null,null]}else{i=g.split(";");if(i.length==3){m[s]=[this.parseFloat_(i[0],p,d),this.parseFloat_(i[1],p,d),this.parseFloat_(i[2],p,d)]}else{this.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+g+'" on line '+(1+p))}}}}else{for(s=1;s<v.length;s++){m[s]=this.parseFloat_(v[s],p,d)}}}}if(t.length>0&&m[0]<t[t.length-1][0]){h=true}if(m.length!=c){this.error("Number of columns in line "+p+" ("+m.length+") does not agree with number of labels ("+c+") "+d)}if(p===0&&this.attr_("labels")){var y=true;for(s=0;y&&s<m.length;s++){if(m[s]){y=false}}if(y){this.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+d+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(m)}if(h){this.warn("CSV is out of order; order it correctly to speed loading.");t.sort(function(e,t){return e[0]-t[0]})}return t};Dygraph.prototype.parseArray_=function(e){if(e.length===0){this.error("Can't plot empty data set");return null}if(e[0].length===0){this.error("Data set cannot contain an empty row");return null}var t;if(this.attr_("labels")===null){this.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter");this.attrs_.labels=["X"];for(t=1;t<e[0].length;t++){this.attrs_.labels.push("Y"+t)}this.attributes_.reparseSeries()}else{var n=this.attr_("labels");if(n.length!=e[0].length){this.error("Mismatch between number of labels ("+n+") and number of columns in array ("+e[0].length+")");return null}}if(Dygraph.isDateLike(e[0][0])){this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter;var r=Dygraph.clone(e);for(t=0;t<e.length;t++){if(r[t].length===0){this.error("Row "+(1+t)+" of data is empty");return null}if(r[t][0]===null||typeof r[t][0].getTime!="function"||isNaN(r[t][0].getTime())){this.error("x value in row "+(1+t)+" is not a Date");return null}r[t][0]=r[t][0].getTime()}return r}else{this.attrs_.axes.x.valueFormatter=function(e){return e};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=Dygraph.numberAxisLabelFormatter;return e}};Dygraph.prototype.parseDataTable_=function(e){var t=function(e){var t=String.fromCharCode(65+e%26);e=Math.floor(e/26);while(e>0){t=String.fromCharCode(65+(e-1)%26)+t.toLowerCase();e=Math.floor((e-1)/26)}return t};var n=e.getNumberOfColumns();var r=e.getNumberOfRows();var i=e.getColumnType(0);if(i=="date"||i=="datetime"){this.attrs_.xValueParser=Dygraph.dateParser;this.attrs_.axes.x.valueFormatter=Dygraph.dateString_;this.attrs_.axes.x.ticker=Dygraph.dateTicker;this.attrs_.axes.x.axisLabelFormatter=Dygraph.dateAxisFormatter}else{if(i=="number"){this.attrs_.xValueParser=function(e){return parseFloat(e)};this.attrs_.axes.x.valueFormatter=function(e){return e};this.attrs_.axes.x.ticker=Dygraph.numericLinearTicks;this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}else{this.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");return null}}var s=[];var o={};var u=false;var a,f;for(a=1;a<n;a++){var l=e.getColumnType(a);if(l=="number"){s.push(a)}else{if(l=="string"&&this.attr_("displayAnnotations")){var c=s[s.length-1];if(!o.hasOwnProperty(c)){o[c]=[a]}else{o[c].push(a)}u=true}else{this.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}}}var h=[e.getColumnLabel(0)];for(a=0;a<s.length;a++){h.push(e.getColumnLabel(s[a]));if(this.attr_("errorBars")){a+=1}}this.attrs_.labels=h;n=h.length;var p=[];var d=false;var v=[];for(a=0;a<r;a++){var m=[];if(typeof e.getValue(a,0)==="undefined"||e.getValue(a,0)===null){this.warn("Ignoring row "+a+" of DataTable because of undefined or null first column.");continue}if(i=="date"||i=="datetime"){m.push(e.getValue(a,0).getTime())}else{m.push(e.getValue(a,0))}if(!this.attr_("errorBars")){for(f=0;f<s.length;f++){var g=s[f];m.push(e.getValue(a,g));if(u&&o.hasOwnProperty(g)&&e.getValue(a,o[g][0])!==null){var y={};y.series=e.getColumnLabel(g);y.xval=m[0];y.shortText=t(v.length);y.text="";for(var b=0;b<o[g].length;b++){if(b){y.text+="\n"}y.text+=e.getValue(a,o[g][b])}v.push(y)}}for(f=0;f<m.length;f++){if(!isFinite(m[f])){m[f]=null}}}else{for(f=0;f<n-1;f++){m.push([e.getValue(a,1+2*f),e.getValue(a,2+2*f)])}}if(p.length>0&&m[0]<p[p.length-1][0]){d=true}p.push(m)}if(d){this.warn("DataTable is out of order; order it correctly to speed loading.");p.sort(function(e,t){return e[0]-t[0]})}this.rawData_=p;if(v.length>0){this.setAnnotations(v,true)}this.attributes_.reparseSeries()};Dygraph.prototype.start_=function(){var e=this.file_;if(typeof e=="function"){e=e()}if(Dygraph.isArrayLike(e)){this.rawData_=this.parseArray_(e);this.predraw_()}else{if(typeof e=="object"&&typeof e.getColumnRange=="function"){this.parseDataTable_(e);this.predraw_()}else{if(typeof e=="string"){var t=Dygraph.detectLineDelimiter(e);if(t){this.loadedEvent_(e)}else{var n=new XMLHttpRequest;var r=this;n.onreadystatechange=function(){if(n.readyState==4){if(n.status===200||n.status===0){r.loadedEvent_(n.responseText)}}};n.open("GET",e,true);n.send(null)}}else{this.error("Unknown data format: "+typeof e)}}}};Dygraph.prototype.updateOptions=function(e,t){if(typeof t=="undefined"){t=false}var n=e.file;var r=Dygraph.mapLegacyOptions_(e);if("rollPeriod"in r){this.rollPeriod_=r.rollPeriod}if("dateWindow"in r){this.dateWindow_=r.dateWindow;if(!("isZoomedIgnoreProgrammaticZoom"in r)){this.zoomed_x_=r.dateWindow!==null}}if("valueRange"in r&&!("isZoomedIgnoreProgrammaticZoom"in r)){this.zoomed_y_=r.valueRange!==null}var i=Dygraph.isPixelChangingOptionList(this.attr_("labels"),r);Dygraph.updateDeep(this.user_attrs_,r);this.attributes_.reparseSeries();if(n){this.file_=n;if(!t){this.start_()}}else{if(!t){if(i){this.predraw_()}else{this.renderGraph_(false)}}}};Dygraph.mapLegacyOptions_=function(e){var t={};for(var n in e){if(n=="file"){continue}if(e.hasOwnProperty(n)){t[n]=e[n]}}var r=function(e,n,r){if(!t.axes){t.axes={}}if(!t.axes[e]){t.axes[e]={}}t.axes[e][n]=r};var i=function(n,i,s){if(typeof e[n]!="undefined"){Dygraph.warn("Option "+n+" is deprecated. Use the "+s+" option for the "+i+" axis instead. (e.g. { axes : { "+i+" : { "+s+" : ... } } } (see http://dygraphs.com/per-axis.html for more information.");r(i,s,e[n]);delete t[n]}};i("xValueFormatter","x","valueFormatter");i("pixelsPerXLabel","x","pixelsPerLabel");i("xAxisLabelFormatter","x","axisLabelFormatter");i("xTicker","x","ticker");i("yValueFormatter","y","valueFormatter");i("pixelsPerYLabel","y","pixelsPerLabel");i("yAxisLabelFormatter","y","axisLabelFormatter");i("yTicker","y","ticker");return t};Dygraph.prototype.resize=function(e,t){if(this.resize_lock){return}this.resize_lock=true;if(e===null!=(t===null)){this.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero.");e=t=null}var n=this.width_;var r=this.height_;if(e){this.maindiv_.style.width=e+"px";this.maindiv_.style.height=t+"px";this.width_=e;this.height_=t}else{this.width_=this.maindiv_.clientWidth;this.height_=this.maindiv_.clientHeight}if(n!=this.width_||r!=this.height_){this.maindiv_.innerHTML="";this.roller_=null;this.attrs_.labelsDiv=null;this.createInterface_();if(this.annotations_.length){this.layout_.setAnnotations(this.annotations_)}this.createDragInterface_();this.predraw_()}this.resize_lock=false};Dygraph.prototype.adjustRoll=function(e){this.rollPeriod_=e;this.predraw_()};Dygraph.prototype.visibility=function(){if(!this.attr_("visibility")){this.attrs_.visibility=[]}while(this.attr_("visibility").length<this.numColumns()-1){this.attrs_.visibility.push(true)}return this.attr_("visibility")};Dygraph.prototype.setVisibility=function(e,t){var n=this.visibility();if(e<0||e>=n.length){this.warn("invalid series number in setVisibility: "+e)}else{n[e]=t;this.predraw_()}};Dygraph.prototype.size=function(){return{width:this.width_,height:this.height_}};Dygraph.prototype.setAnnotations=function(e,t){Dygraph.addAnnotationRule();this.annotations_=e;if(!this.layout_){this.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a drawCallback. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_);if(!t){this.predraw_()}};Dygraph.prototype.annotations=function(){return this.annotations_};Dygraph.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null};Dygraph.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]};Dygraph.prototype.datasetIndexFromSetName_=function(e){return this.datasetIndex_[this.indexFromSetName(e)]};Dygraph.addAnnotationRule=function(){if(Dygraph.addedAnnotationCSS){return}var e="border: 1px solid black; background-color: white; text-align: center;";var t=document.createElement("style");t.type="text/css";document.getElementsByTagName("head")[0].appendChild(t);for(var n=0;n<document.styleSheets.length;n++){if(document.styleSheets[n].disabled){continue}var r=document.styleSheets[n];try{if(r.insertRule){var i=r.cssRules?r.cssRules.length:0;r.insertRule(".dygraphDefaultAnnotation { "+e+" }",i)}else{if(r.addRule){r.addRule(".dygraphDefaultAnnotation",e)}}Dygraph.addedAnnotationCSS=true;return}catch(s){}}this.warn("Unable to add default annotation CSS rule; display may be off.")};var DateGraph=Dygraph;"use strict";Dygraph.LOG_SCALE=10;Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE);Dygraph.log10=function(e){return Math.log(e)/Dygraph.LN_TEN};Dygraph.DEBUG=1;Dygraph.INFO=2;Dygraph.WARNING=3;Dygraph.ERROR=3;Dygraph.LOG_STACK_TRACES=false;Dygraph.DOTTED_LINE=[2,2];Dygraph.DASHED_LINE=[7,3];Dygraph.DOT_DASH_LINE=[7,2,2,2];Dygraph.log=function(e,t){var n;if(typeof printStackTrace!="undefined"){try{n=printStackTrace({guess:false});while(n[0].indexOf("stacktrace")!=-1){n.splice(0,1)}n.splice(0,2);for(var r=0;r<n.length;r++){n[r]=n[r].replace(/\([^)]*\/(.*)\)/,"@$1").replace(/\@.*\/([^\/]*)/,"@$1").replace("[object Object].","")}var i=n.splice(0,1)[0];t+=" ("+i.replace(/^.*@ ?/,"")+")"}catch(s){}}if(typeof window.console!="undefined"){var o=window.console;var u=function(e,t,n){if(t&&typeof t=="function"){t.call(e,n)}else{e.log(n)}};switch(e){case Dygraph.DEBUG:u(o,o.debug,"dygraphs: "+t);break;case Dygraph.INFO:u(o,o.info,"dygraphs: "+t);break;case Dygraph.WARNING:u(o,o.warn,"dygraphs: "+t);break;case Dygraph.ERROR:u(o,o.error,"dygraphs: "+t);break}}if(Dygraph.LOG_STACK_TRACES){window.console.log(n.join("\n"))}};Dygraph.info=function(e){Dygraph.log(Dygraph.INFO,e)};Dygraph.prototype.info=Dygraph.info;Dygraph.warn=function(e){Dygraph.log(Dygraph.WARNING,e)};Dygraph.prototype.warn=Dygraph.warn;Dygraph.error=function(e){Dygraph.log(Dygraph.ERROR,e)};Dygraph.prototype.error=Dygraph.error;Dygraph.getContext=function(e){return e.getContext("2d")};Dygraph.addEvent=function(t,n,r){if(t.addEventListener){t.addEventListener(n,r,false)}else{t[n+r]=function(){r(window.event)};t.attachEvent("on"+n,t[n+r])}};Dygraph.prototype.addEvent=function(e,t,n){Dygraph.addEvent(e,t,n);this.registeredEvents_.push({elem:e,type:t,fn:n})};Dygraph.removeEvent=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else{try{e.detachEvent("on"+t,e[t+n])}catch(r){}e[t+n]=null}};Dygraph.cancelEvent=function(e){e=e?e:window.event;if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}e.cancelBubble=true;e.cancel=true;e.returnValue=false;return false};Dygraph.hsvToRGB=function(e,t,n){var r;var i;var s;if(t===0){r=n;i=n;s=n}else{var o=Math.floor(e*6);var u=e*6-o;var a=n*(1-t);var f=n*(1-t*u);var l=n*(1-t*(1-u));switch(o){case 1:r=f;i=n;s=a;break;case 2:r=a;i=n;s=l;break;case 3:r=a;i=f;s=n;break;case 4:r=l;i=a;s=n;break;case 5:r=n;i=a;s=f;break;case 6:case 0:r=n;i=l;s=a;break}}r=Math.floor(255*r+.5);i=Math.floor(255*i+.5);s=Math.floor(255*s+.5);return"rgb("+r+","+i+","+s+")"};Dygraph.findPosX=function(e){var t=0;if(e.offsetParent){var n=e;while(1){var r="0";if(window.getComputedStyle){r=window.getComputedStyle(n,null).borderLeft||"0"}t+=parseInt(r,10);t+=n.offsetLeft;if(!n.offsetParent){break}n=n.offsetParent}}else{if(e.x){t+=e.x}}while(e&&e!=document.body){t-=e.scrollLeft;e=e.parentNode}return t};Dygraph.findPosY=function(e){var t=0;if(e.offsetParent){var n=e;while(1){var r="0";if(window.getComputedStyle){r=window.getComputedStyle(n,null).borderTop||"0"}t+=parseInt(r,10);t+=n.offsetTop;if(!n.offsetParent){break}n=n.offsetParent}}else{if(e.y){t+=e.y}}while(e&&e!=document.body){t-=e.scrollTop;e=e.parentNode}return t};Dygraph.pageX=function(e){if(e.pageX){return!e.pageX||e.pageX<0?0:e.pageX}else{var t=document.documentElement;var n=document.body;return e.clientX+(t.scrollLeft||n.scrollLeft)-(t.clientLeft||0)}};Dygraph.pageY=function(e){if(e.pageY){return!e.pageY||e.pageY<0?0:e.pageY}else{var t=document.documentElement;var n=document.body;return e.clientY+(t.scrollTop||n.scrollTop)-(t.clientTop||0)}};Dygraph.isOK=function(e){return!!e&&!isNaN(e)};Dygraph.isValidPoint=function(e,t){if(!e){return false}if(e.yval===null){return false}if(e.x===null||e.x===undefined){return false}if(e.y===null||e.y===undefined){return false}if(isNaN(e.x)||!t&&isNaN(e.y)){return false}return true};Dygraph.floatFormat=function(e,t){var n=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(n-1):e.toPrecision(n)};Dygraph.zeropad=function(e){if(e<10){return"0"+e}else{return""+e}};Dygraph.hmsString_=function(e){var t=Dygraph.zeropad;var n=new Date(e);if(n.getSeconds()){return t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())}else{return t(n.getHours())+":"+t(n.getMinutes())}};Dygraph.round_=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};Dygraph.binarySearch=function(e,t,n,r,i){if(r===null||r===undefined||i===null||i===undefined){r=0;i=t.length-1}if(r>i){return-1}if(n===null||n===undefined){n=0}var s=function(e){return e>=0&&e<t.length};var o=parseInt((r+i)/2,10);var u=t[o];var a;if(u==e){return o}else{if(u>e){if(n>0){a=o-1;if(s(a)&&t[a]<e){return o}}return Dygraph.binarySearch(e,t,n,r,o-1)}else{if(u<e){if(n<0){a=o+1;if(s(a)&&t[a]>e){return o}}return Dygraph.binarySearch(e,t,n,o+1,i)}}}return-1};Dygraph.dateParser=function(e){var t;var n;if(e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1){n=Dygraph.dateStrToMillis(e);if(n&&!isNaN(n)){return n}}if(e.search("-")!=-1){t=e.replace("-","/","g");while(t.search("-")!=-1){t=t.replace("-","/")}n=Dygraph.dateStrToMillis(t)}else{if(e.length==8){t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2);n=Dygraph.dateStrToMillis(t)}else{n=Dygraph.dateStrToMillis(e)}}if(!n||isNaN(n)){Dygraph.error("Couldn't parse "+e+" as a date")}return n};Dygraph.dateStrToMillis=function(e){return(new Date(e)).getTime()};Dygraph.update=function(e,t){if(typeof t!="undefined"&&t!==null){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e};Dygraph.updateDeep=function(e,t){function n(e){return typeof Node==="object"?e instanceof Node:typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"}if(typeof t!="undefined"&&t!==null){for(var r in t){if(t.hasOwnProperty(r)){if(t[r]===null){e[r]=null}else{if(Dygraph.isArrayLike(t[r])){e[r]=t[r].slice()}else{if(n(t[r])){e[r]=t[r]}else{if(typeof t[r]=="object"){if(typeof e[r]!="object"||e[r]===null){e[r]={}}Dygraph.updateDeep(e[r],t[r])}else{e[r]=t[r]}}}}}}}return e};Dygraph.isArrayLike=function(e){var t=typeof e;if(t!="object"&&!(t=="function"&&typeof e.item=="function")||e===null||typeof e.length!="number"||e.nodeType===3){return false}return true};Dygraph.isDateLike=function(e){if(typeof e!="object"||e===null||typeof e.getTime!="function"){return false}return true};Dygraph.clone=function(e){var t=[];for(var n=0;n<e.length;n++){if(Dygraph.isArrayLike(e[n])){t.push(Dygraph.clone(e[n]))}else{t.push(e[n])}}return t};Dygraph.createCanvas=function(){var e=document.createElement("canvas");var t=/MSIE/.test(navigator.userAgent)&&!window.opera;if(t&&typeof G_vmlCanvasManager!="undefined"){e=G_vmlCanvasManager.initElement(e)}return e};Dygraph.isAndroid=function(){return/Android/.test(navigator.userAgent)};Dygraph.Iterator=function(e,t,n,r){t=t||0;n=n||e.length;this.hasNext=true;this.peek=null;this.start_=t;this.array_=e;this.predicate_=r;this.end_=Math.min(e.length,t+n);this.nextIdx_=t-1;this.next()};Dygraph.Iterator.prototype.next=function(){if(!this.hasNext){return null}var e=this.peek;var t=this.nextIdx_+1;var n=false;while(t<this.end_){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t];n=true;break}t++}this.nextIdx_=t;if(!n){this.hasNext=false;this.peek=null}return e};Dygraph.createIterator=function(e,t,n,r){return new Dygraph.Iterator(e,t,n,r)};Dygraph.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();Dygraph.repeatAndCleanup=function(e,t,n,r){var i=0;var s;var o=(new Date).getTime();e(i);if(t==1){r();return}var u=t-1;(function a(){if(i>=t){return}Dygraph.requestAnimFrame.call(window,function(){var t=(new Date).getTime();var l=t-o;s=i;i=Math.floor(l/n);var p=i-s;var v=i+p>u;if(v||i>=u){e(u);r()}else{if(p!==0){e(i)}a()}})})()};Dygraph.isPixelChangingOptionList=function(e,t){var n={annotationClickHandler:true,annotationDblClickHandler:true,annotationMouseOutHandler:true,annotationMouseOverHandler:true,axisLabelColor:true,axisLineColor:true,axisLineWidth:true,clickCallback:true,digitsAfterDecimal:true,drawCallback:true,drawHighlightPointCallback:true,drawPoints:true,drawPointCallback:true,drawXGrid:true,drawYGrid:true,fillAlpha:true,gridLineColor:true,gridLineWidth:true,hideOverlayOnMouseOut:true,highlightCallback:true,highlightCircleSize:true,interactionModel:true,isZoomedIgnoreProgrammaticZoom:true,labelsDiv:true,labelsDivStyles:true,labelsDivWidth:true,labelsKMB:true,labelsKMG2:true,labelsSeparateLines:true,labelsShowZeroValues:true,legend:true,maxNumberWidth:true,panEdgeFraction:true,pixelsPerYLabel:true,pointClickCallback:true,pointSize:true,rangeSelectorPlotFillColor:true,rangeSelectorPlotStrokeColor:true,showLabelsOnHighlight:true,showRoller:true,sigFigs:true,strokeWidth:true,underlayCallback:true,unhighlightCallback:true,xAxisLabelFormatter:true,xTicker:true,xValueFormatter:true,yAxisLabelFormatter:true,yValueFormatter:true,zoomCallback:true};var r=false;var i={};if(e){for(var s=1;s<e.length;s++){i[e[s]]=true}}for(var o in t){if(r){break}if(t.hasOwnProperty(o)){if(i[o]){for(var u in t[o]){if(r){break}if(t[o].hasOwnProperty(u)&&!n[u]){r=true}}}else{if(!n[o]){r=true}}}}return r};Dygraph.compareArrays=function(e,t){if(!Dygraph.isArrayLike(e)||!Dygraph.isArrayLike(t)){return false}if(e.length!==t.length){return false}for(var n=0;n<e.length;n++){if(e[n]!==t[n]){return false}}return true};Dygraph.regularShape_=function(e,t,n,r,i,s,o){s=s||0;o=o||Math.PI*2/t;e.beginPath();var u=s;var a=u;var f=function(){var e=r+Math.sin(a)*n;var t=i+ -Math.cos(a)*n;return[e,t]};var l=f();var c=l[0];var h=l[1];e.moveTo(c,h);for(var p=0;p<t;p++){a=p==t-1?u:a+o;var d=f();e.lineTo(d[0],d[1])}e.fill();e.stroke()};Dygraph.shapeFunction_=function(e,t,n){return function(r,i,s,o,u,f,l){s.strokeStyle=f;s.fillStyle="white";Dygraph.regularShape_(s,e,l,o,u,t,n)}};Dygraph.Circles={DEFAULT:function(e,t,n,r,i,s,o){n.beginPath();n.fillStyle=s;n.arc(r,i,o,0,2*Math.PI,false);n.fill()},TRIANGLE:Dygraph.shapeFunction_(3),SQUARE:Dygraph.shapeFunction_(4,Math.PI/4),DIAMOND:Dygraph.shapeFunction_(4),PENTAGON:Dygraph.shapeFunction_(5),HEXAGON:Dygraph.shapeFunction_(6),CIRCLE:function(e,t,n,r,i,s,o){n.beginPath();n.strokeStyle=s;n.fillStyle="white";n.arc(r,i,o,0,2*Math.PI,false);n.fill();n.stroke()},STAR:Dygraph.shapeFunction_(5,0,4*Math.PI/5),PLUS:function(e,t,n,r,i,s,o){n.strokeStyle=s;n.beginPath();n.moveTo(r+o,i);n.lineTo(r-o,i);n.closePath();n.stroke();n.beginPath();n.moveTo(r,i+o);n.lineTo(r,i-o);n.closePath();n.stroke()},EX:function(e,t,n,r,i,s,o){n.strokeStyle=s;n.beginPath();n.moveTo(r+o,i+o);n.lineTo(r-o,i-o);n.closePath();n.stroke();n.beginPath();n.moveTo(r+o,i-o);n.lineTo(r-o,i+o);n.closePath();n.stroke()}};Dygraph.IFrameTarp=function(){this.tarps=[]};Dygraph.IFrameTarp.prototype.cover=function(){var e=document.getElementsByTagName("iframe");for(var t=0;t<e.length;t++){var n=e[t];var r=Dygraph.findPosX(n),i=Dygraph.findPosY(n),s=n.offsetWidth,o=n.offsetHeight;var u=document.createElement("div");u.style.position="absolute";u.style.left=r+"px";u.style.top=i+"px";u.style.width=s+"px";u.style.height=o+"px";u.style.zIndex=999;document.body.appendChild(u);this.tarps.push(u)}};Dygraph.IFrameTarp.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++){this.tarps[e].parentNode.removeChild(this.tarps[e])}this.tarps=[]};Dygraph.detectLineDelimiter=function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r"){if(t+1<e.length&&e.charAt(t+1)==="\n"){return"\r\n"}return n}if(n==="\n"){if(t+1<e.length&&e.charAt(t+1)==="\r"){return"\n\r"}return n}}return null};Dygraph.isNodeContainedBy=function(e,t){if(t===null||e===null){return false}var n=e;while(n&&n!==t){n=n.parentNode}return n===t};Dygraph.pow=function(e,t){if(t<0){return 1/Math.pow(e,-t)}return Math.pow(e,t)};Dygraph.dateSetters={ms:Date.prototype.setMilliseconds,s:Date.prototype.setSeconds,m:Date.prototype.setMinutes,h:Date.prototype.setHours};Dygraph.setDateSameTZ=function(e,t){var n=e.getTimezoneOffset();for(var r in t){if(!t.hasOwnProperty(r)){continue}var i=Dygraph.dateSetters[r];if(!i){throw"Invalid setter: "+r}i.call(e,t[r]);if(e.getTimezoneOffset()!=n){e.setTime(e.getTime()+(n-e.getTimezoneOffset())*60*1e3)}}};"use strict";Dygraph.GVizChart=function(e){this.container=e};Dygraph.GVizChart.prototype.draw=function(e,t){this.container.innerHTML="";if(typeof this.date_graph!="undefined"){this.date_graph.destroy()}this.date_graph=new Dygraph(this.container,e,t)};Dygraph.GVizChart.prototype.setSelection=function(e){var t=false;if(e.length){t=e[0].row}this.date_graph.setSelection(t)};Dygraph.GVizChart.prototype.getSelection=function(){var e=[];var t=this.date_graph.getSelection();if(t<0){return e}var n=this.date_graph.layout_.datasets;for(var r=0;r<n.length;++r){e.push({row:t,column:r+1})}return e};"use strict";Dygraph.Interaction={};Dygraph.Interaction.startPan=function(e,t,n){var r,i;n.isPanning=true;var s=t.xAxisRange();n.dateRange=s[1]-s[0];n.initialLeftmostDate=s[0];n.xUnitsPerPixel=n.dateRange/(t.plotter_.area.w-1);if(t.attr_("panEdgeFraction")){var o=t.width_*t.attr_("panEdgeFraction");var u=t.xAxisExtremes();var a=t.toDomXCoord(u[0])-o;var f=t.toDomXCoord(u[1])+o;var l=t.toDataXCoord(a);var c=t.toDataXCoord(f);n.boundedDates=[l,c];var h=[];var p=t.height_*t.attr_("panEdgeFraction");for(r=0;r<t.axes_.length;r++){i=t.axes_[r];var d=i.extremeRange;var v=t.toDomYCoord(d[0],r)+p;var m=t.toDomYCoord(d[1],r)-p;var g=t.toDataYCoord(v,r);var y=t.toDataYCoord(m,r);h[r]=[g,y]}n.boundedValues=h}n.is2DPan=false;n.axes=[];for(r=0;r<t.axes_.length;r++){i=t.axes_[r];var b={};var w=t.yAxisRange(r);var E=t.attributes_.getForAxis("logscale",r);if(E){b.initialTopValue=Dygraph.log10(w[1]);b.dragValueRange=Dygraph.log10(w[1])-Dygraph.log10(w[0])}else{b.initialTopValue=w[1];b.dragValueRange=w[1]-w[0]}b.unitsPerPixel=b.dragValueRange/(t.plotter_.area.h-1);n.axes.push(b);if(i.valueWindow||i.valueRange){n.is2DPan=true}}};Dygraph.Interaction.movePan=function(e,t,n){n.dragEndX=t.dragGetX_(e,n);n.dragEndY=t.dragGetY_(e,n);var r=n.initialLeftmostDate-(n.dragEndX-n.dragStartX)*n.xUnitsPerPixel;if(n.boundedDates){r=Math.max(r,n.boundedDates[0])}var i=r+n.dateRange;if(n.boundedDates){if(i>n.boundedDates[1]){r=r-(i-n.boundedDates[1]);i=r+n.dateRange}}t.dateWindow_=[r,i];if(n.is2DPan){var s=n.dragEndY-n.dragStartY;for(var o=0;o<t.axes_.length;o++){var u=t.axes_[o];var a=n.axes[o];var f=s*a.unitsPerPixel;var l=n.boundedValues?n.boundedValues[o]:null;var c=a.initialTopValue+f;if(l){c=Math.min(c,l[1])}var h=c-a.dragValueRange;if(l){if(h<l[0]){c=c-(h-l[0]);h=c-a.dragValueRange}}var p=t.attributes_.getForAxis("logscale",o);if(p){u.valueWindow=[Math.pow(Dygraph.LOG_SCALE,h),Math.pow(Dygraph.LOG_SCALE,c)]}else{u.valueWindow=[h,c]}}}t.drawGraph_(false)};Dygraph.Interaction.endPan=function(e,t,n){n.dragEndX=t.dragGetX_(e,n);n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX);var i=Math.abs(n.dragEndY-n.dragStartY);if(r<2&&i<2&&t.lastx_!==undefined&&t.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(t,e,n)}n.isPanning=false;n.is2DPan=false;n.initialLeftmostDate=null;n.dateRange=null;n.valueRange=null;n.boundedDates=null;n.boundedValues=null;n.axes=null};Dygraph.Interaction.startZoom=function(e,t,n){n.isZooming=true;n.zoomMoved=false};Dygraph.Interaction.moveZoom=function(e,t,n){n.zoomMoved=true;n.dragEndX=t.dragGetX_(e,n);n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragStartX-n.dragEndX);var i=Math.abs(n.dragStartY-n.dragEndY);n.dragDirection=r<i/2?Dygraph.VERTICAL:Dygraph.HORIZONTAL;t.drawZoomRect_(n.dragDirection,n.dragStartX,n.dragEndX,n.dragStartY,n.dragEndY,n.prevDragDirection,n.prevEndX,n.prevEndY);n.prevEndX=n.dragEndX;n.prevEndY=n.dragEndY;n.prevDragDirection=n.dragDirection};Dygraph.Interaction.treatMouseOpAsClick=function(e,t,n){var r=e.attr_("clickCallback");var i=e.attr_("pointClickCallback");var s=null;if(i){var o=-1;var u=Number.MAX_VALUE;for(var a=0;a<e.selPoints_.length;a++){var f=e.selPoints_[a];var l=Math.pow(f.canvasx-n.dragEndX,2)+Math.pow(f.canvasy-n.dragEndY,2);if(!isNaN(l)&&(o==-1||l<u)){u=l;o=a}}var c=e.attr_("highlightCircleSize")+2;if(u<=c*c){s=e.selPoints_[o]}}if(s){i(t,s)}if(r){r(t,e.lastx_,e.selPoints_)}};Dygraph.Interaction.endZoom=function(e,t,n){n.isZooming=false;n.dragEndX=t.dragGetX_(e,n);n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX);var i=Math.abs(n.dragEndY-n.dragStartY);if(r<2&&i<2&&t.lastx_!==undefined&&t.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(t,e,n)}var s=t.getArea();if(r>=10&&n.dragDirection==Dygraph.HORIZONTAL){var o=Math.min(n.dragStartX,n.dragEndX),u=Math.max(n.dragStartX,n.dragEndX);o=Math.max(o,s.x);u=Math.min(u,s.x+s.w);if(o<u){t.doZoomX_(o,u)}n.cancelNextDblclick=true}else{if(i>=10&&n.dragDirection==Dygraph.VERTICAL){var a=Math.min(n.dragStartY,n.dragEndY),f=Math.max(n.dragStartY,n.dragEndY);a=Math.max(a,s.y);f=Math.min(f,s.y+s.h);if(a<f){t.doZoomY_(a,f)}n.cancelNextDblclick=true}else{if(n.zoomMoved){t.clearZoomRect_()}}}n.dragStartX=null;n.dragStartY=null};Dygraph.Interaction.startTouch=function(e,t,n){e.preventDefault();if(e.touches.length>1){n.startTimeForDoubleTapMs=null}var r=[];for(var i=0;i<e.touches.length;i++){var s=e.touches[i];r.push({pageX:s.pageX,pageY:s.pageY,dataX:t.toDataXCoord(s.pageX),dataY:t.toDataYCoord(s.pageY)})}n.initialTouches=r;if(r.length==1){n.initialPinchCenter=r[0];n.touchDirections={x:true,y:true}}else{if(r.length>=2){n.initialPinchCenter={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY),dataX:.5*(r[0].dataX+r[1].dataX),dataY:.5*(r[0].dataY+r[1].dataY)};var o=180/Math.PI*Math.atan2(n.initialPinchCenter.pageY-r[0].pageY,r[0].pageX-n.initialPinchCenter.pageX);o=Math.abs(o);if(o>90){o=90-o}n.touchDirections={x:o<90-45/2,y:o>45/2}}}n.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}};Dygraph.Interaction.moveTouch=function(e,t,n){n.startTimeForDoubleTapMs=null;var r,i=[];for(r=0;r<e.touches.length;r++){var s=e.touches[r];i.push({pageX:s.pageX,pageY:s.pageY})}var o=n.initialTouches;var u;var a=n.initialPinchCenter;if(i.length==1){u=i[0]}else{u={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY)}}var f={pageX:u.pageX-a.pageX,pageY:u.pageY-a.pageY};var l=n.initialRange.x[1]-n.initialRange.x[0];var c=n.initialRange.y[0]-n.initialRange.y[1];f.dataX=f.pageX/t.plotter_.area.w*l;f.dataY=f.pageY/t.plotter_.area.h*c;var h,p;if(i.length==1){h=1;p=1}else{if(i.length>=2){var d=o[1].pageX-a.pageX;h=(i[1].pageX-u.pageX)/d;var v=o[1].pageY-a.pageY;p=(i[1].pageY-u.pageY)/v}}h=Math.min(8,Math.max(.125,h));p=Math.min(8,Math.max(.125,p));var m=false;if(n.touchDirections.x){t.dateWindow_=[a.dataX-f.dataX+(n.initialRange.x[0]-a.dataX)/h,a.dataX-f.dataX+(n.initialRange.x[1]-a.dataX)/h];m=true}if(n.touchDirections.y){for(r=0;r<1;r++){var g=t.axes_[r];var y=t.attributes_.getForAxis("logscale",r);if(y){}else{g.valueWindow=[a.dataY-f.dataY+(n.initialRange.y[0]-a.dataY)/p,a.dataY-f.dataY+(n.initialRange.y[1]-a.dataY)/p];m=true}}}t.drawGraph_(false);if(m&&i.length>1&&t.attr_("zoomCallback")){var b=t.xAxisRange();t.attr_("zoomCallback")(b[0],b[1],t.yAxisRanges())}};Dygraph.Interaction.endTouch=function(e,t,n){if(e.touches.length!==0){Dygraph.Interaction.startTouch(e,t,n)}else{if(e.changedTouches.length==1){var r=(new Date).getTime();var i=e.changedTouches[0];if(n.startTimeForDoubleTapMs&&r-n.startTimeForDoubleTapMs<500&&n.doubleTapX&&Math.abs(n.doubleTapX-i.screenX)<50&&n.doubleTapY&&Math.abs(n.doubleTapY-i.screenY)<50){t.resetZoom()}else{n.startTimeForDoubleTapMs=r;n.doubleTapX=i.screenX;n.doubleTapY=i.screenY}}}};Dygraph.Interaction.defaultModel={mousedown:function(e,t,n){if(e.button&&e.button==2){return}n.initializeMouseDown(e,t,n);if(e.altKey||e.shiftKey){Dygraph.startPan(e,t,n)}else{Dygraph.startZoom(e,t,n)}},mousemove:function(e,t,n){if(n.isZooming){Dygraph.moveZoom(e,t,n)}else{if(n.isPanning){Dygraph.movePan(e,t,n)}}},mouseup:function(e,t,n){if(n.isZooming){Dygraph.endZoom(e,t,n)}else{if(n.isPanning){Dygraph.endPan(e,t,n)}}},touchstart:function(e,t,n){Dygraph.Interaction.startTouch(e,t,n)},touchmove:function(e,t,n){Dygraph.Interaction.moveTouch(e,t,n)},touchend:function(e,t,n){Dygraph.Interaction.endTouch(e,t,n)},mouseout:function(e,t,n){if(n.isZooming){n.dragEndX=null;n.dragEndY=null;t.clearZoomRect_()}},dblclick:function(e,t,n){if(n.cancelNextDblclick){n.cancelNextDblclick=false;return}if(e.altKey||e.shiftKey){return}t.resetZoom()}};Dygraph.DEFAULT_ATTRS.interactionModel=Dygraph.Interaction.defaultModel;Dygraph.defaultInteractionModel=Dygraph.Interaction.defaultModel;Dygraph.endZoom=Dygraph.Interaction.endZoom;Dygraph.moveZoom=Dygraph.Interaction.moveZoom;Dygraph.startZoom=Dygraph.Interaction.startZoom;Dygraph.endPan=Dygraph.Interaction.endPan;Dygraph.movePan=Dygraph.Interaction.movePan;Dygraph.startPan=Dygraph.Interaction.startPan;Dygraph.Interaction.nonInteractiveModel_={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n)},mouseup:function(e,t,n){n.dragEndX=t.dragGetX_(e,n);n.dragEndY=t.dragGetY_(e,n);var r=Math.abs(n.dragEndX-n.dragStartX);var i=Math.abs(n.dragEndY-n.dragStartY);if(r<2&&i<2&&t.lastx_!==undefined&&t.lastx_!=-1){Dygraph.Interaction.treatMouseOpAsClick(t,e,n)}}};Dygraph.Interaction.dragIsPanInteractionModel={mousedown:function(e,t,n){n.initializeMouseDown(e,t,n);Dygraph.startPan(e,t,n)},mousemove:function(e,t,n){if(n.isPanning){Dygraph.movePan(e,t,n)}},mouseup:function(e,t,n){if(n.isPanning){Dygraph.endPan(e,t,n)}}};"use strict";Dygraph.TickList=undefined;Dygraph.Ticker=undefined;Dygraph.numericLinearTicks=function(e,t,n,r,i,s){var o=function(e){if(e==="logscale"){return false}return r(e)};return Dygraph.numericTicks(e,t,n,o,i,s)};Dygraph.numericTicks=function(e,t,n,r,i,s){var o=r("pixelsPerLabel");var u=[];var a,f,l,c;if(s){for(a=0;a<s.length;a++){u.push({v:s[a]})}}else{if(r("logscale")){c=Math.floor(n/o);var h=Dygraph.binarySearch(e,Dygraph.PREFERRED_LOG_TICK_VALUES,1);var p=Dygraph.binarySearch(t,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);if(h==-1){h=0}if(p==-1){p=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1}var d=null;if(p-h>=c/4){for(var v=p;v>=h;v--){var m=Dygraph.PREFERRED_LOG_TICK_VALUES[v];var g=Math.log(m/e)/Math.log(t/e)*n;var y={v:m};if(d===null){d={tickValue:m,pixel_coord:g}}else{if(Math.abs(g-d.pixel_coord)>=o){d={tickValue:m,pixel_coord:g}}else{y.label=""}}u.push(y)}u.reverse()}}if(u.length===0){var b=r("labelsKMG2");var w,E;if(b){w=[1,2,4,8,16,32,64,128,256];E=16}else{w=[1,2,5,10,20,50,100];E=10}var S=Math.ceil(n/o);var x=Math.abs(t-e)/S;var T=Math.floor(Math.log(x)/Math.log(E));var N=Math.pow(E,T);var C,k,L,A;for(f=0;f<w.length;f++){C=N*w[f];k=Math.floor(e/C)*C;L=Math.ceil(t/C)*C;c=Math.abs(L-k)/C;A=n/c;if(A>o){break}}if(k>L){C*=-1}for(a=0;a<c;a++){l=k+a*C;u.push({v:l})}}}var O=r("axisLabelFormatter");for(a=0;a<u.length;a++){if(u[a].label!==undefined){continue}u[a].label=O(u[a].v,0,r,i)}return u};Dygraph.dateTicker=function(e,t,n,r,i,s){var o=Dygraph.pickDateTickGranularity(e,t,n,r);if(o>=0){return Dygraph.getDateAxis(e,t,o,r,i)}else{return[]}};Dygraph.SECONDLY=0;Dygraph.TWO_SECONDLY=1;Dygraph.FIVE_SECONDLY=2;Dygraph.TEN_SECONDLY=3;Dygraph.THIRTY_SECONDLY=4;Dygraph.MINUTELY=5;Dygraph.TWO_MINUTELY=6;Dygraph.FIVE_MINUTELY=7;Dygraph.TEN_MINUTELY=8;Dygraph.THIRTY_MINUTELY=9;Dygraph.HOURLY=10;Dygraph.TWO_HOURLY=11;Dygraph.SIX_HOURLY=12;Dygraph.DAILY=13;Dygraph.WEEKLY=14;Dygraph.MONTHLY=15;Dygraph.QUARTERLY=16;Dygraph.BIANNUAL=17;Dygraph.ANNUAL=18;Dygraph.DECADAL=19;Dygraph.CENTENNIAL=20;Dygraph.NUM_GRANULARITIES=21;Dygraph.SHORT_SPACINGS=[];Dygraph.SHORT_SPACINGS[Dygraph.SECONDLY]=1e3*1;Dygraph.SHORT_SPACINGS[Dygraph.TWO_SECONDLY]=1e3*2;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_SECONDLY]=1e3*5;Dygraph.SHORT_SPACINGS[Dygraph.TEN_SECONDLY]=1e3*10;Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_SECONDLY]=1e3*30;Dygraph.SHORT_SPACINGS[Dygraph.MINUTELY]=1e3*60;Dygraph.SHORT_SPACINGS[Dygraph.TWO_MINUTELY]=1e3*60*2;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_MINUTELY]=1e3*60*5;Dygraph.SHORT_SPACINGS[Dygraph.TEN_MINUTELY]=1e3*60*10;Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_MINUTELY]=1e3*60*30;Dygraph.SHORT_SPACINGS[Dygraph.HOURLY]=1e3*3600;Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY]=1e3*3600*2;Dygraph.SHORT_SPACINGS[Dygraph.SIX_HOURLY]=1e3*3600*6;Dygraph.SHORT_SPACINGS[Dygraph.DAILY]=1e3*86400;Dygraph.SHORT_SPACINGS[Dygraph.WEEKLY]=1e3*604800;Dygraph.LONG_TICK_PLACEMENTS=[];Dygraph.LONG_TICK_PLACEMENTS[Dygraph.MONTHLY]={months:[0,1,2,3,4,5,6,7,8,9,10,11],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.QUARTERLY]={months:[0,3,6,9],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.BIANNUAL]={months:[0,6],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.ANNUAL]={months:[0],year_mod:1};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.DECADAL]={months:[0],year_mod:10};Dygraph.LONG_TICK_PLACEMENTS[Dygraph.CENTENNIAL]={months:[0],year_mod:100};Dygraph.PREFERRED_LOG_TICK_VALUES=function(){var e=[];for(var t=-39;t<=39;t++){var n=Math.pow(10,t);for(var r=1;r<=9;r++){var i=n*r;e.push(i)}}return e}();Dygraph.pickDateTickGranularity=function(e,t,n,r){var i=r("pixelsPerLabel");for(var s=0;s<Dygraph.NUM_GRANULARITIES;s++){var o=Dygraph.numDateTicks(e,t,s);if(n/o>=i){return s}}return-1};Dygraph.numDateTicks=function(e,t,n){if(n<Dygraph.MONTHLY){var r=Dygraph.SHORT_SPACINGS[n];return Math.floor(.5+1*(t-e)/r)}else{var i=Dygraph.LONG_TICK_PLACEMENTS[n];var s=365.2524*24*3600*1e3;var o=1*(t-e)/s;return Math.floor(.5+1*o*i.months.length/i.year_mod)}};Dygraph.getDateAxis=function(e,t,n,r,i){var s=r("axisLabelFormatter");var o=[];var u;if(n<Dygraph.MONTHLY){var a=Dygraph.SHORT_SPACINGS[n];var f=a/1e3;var l=new Date(e);Dygraph.setDateSameTZ(l,{ms:0});var c;if(f<=60){c=l.getSeconds();Dygraph.setDateSameTZ(l,{s:c-c%f})}else{Dygraph.setDateSameTZ(l,{s:0});f/=60;if(f<=60){c=l.getMinutes();Dygraph.setDateSameTZ(l,{m:c-c%f})}else{Dygraph.setDateSameTZ(l,{m:0});f/=60;if(f<=24){c=l.getHours();l.setHours(c-c%f)}else{l.setHours(0);f/=24;if(f==7){l.setDate(l.getDate()-l.getDay())}}}}e=l.getTime();var h=(new Date(e)).getTimezoneOffset();var p=a>=Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY];for(u=e;u<=t;u+=a){l=new Date(u);if(p&&l.getTimezoneOffset()!=h){var d=l.getTimezoneOffset()-h;u+=d*60*1e3;l=new Date(u);h=l.getTimezoneOffset();if((new Date(u+a)).getTimezoneOffset()!=h){u+=a;l=new Date(u);h=l.getTimezoneOffset()}}o.push({v:u,label:s(l,n,r,i)})}}else{var v;var m=1;if(n<Dygraph.NUM_GRANULARITIES){v=Dygraph.LONG_TICK_PLACEMENTS[n].months;m=Dygraph.LONG_TICK_PLACEMENTS[n].year_mod}else{Dygraph.warn("Span of dates is too long")}var g=(new Date(e)).getFullYear();var y=(new Date(t)).getFullYear();var b=Dygraph.zeropad;for(var w=g;w<=y;w++){if(w%m!==0){continue}for(var E=0;E<v.length;E++){var S=w+"/"+b(1+v[E])+"/01";u=Dygraph.dateStrToMillis(S);if(u<e||u>t){continue}o.push({v:u,label:s(new Date(u),n,r,i)})}}}return o};if(Dygraph&&Dygraph.DEFAULT_ATTRS&&Dygraph.DEFAULT_ATTRS.axes&&Dygraph.DEFAULT_ATTRS.axes["x"]&&Dygraph.DEFAULT_ATTRS.axes["y"]&&Dygraph.DEFAULT_ATTRS.axes["y2"]){Dygraph.DEFAULT_ATTRS.axes["x"]["ticker"]=Dygraph.dateTicker;Dygraph.DEFAULT_ATTRS.axes["y"]["ticker"]=Dygraph.numericTicks;Dygraph.DEFAULT_ATTRS.axes["y2"]["ticker"]=Dygraph.numericTicks}Dygraph.Plugins={};Dygraph.Plugins.Annotations=function(){var e=function(){this.annotations_=[]};e.prototype.toString=function(){return"Annotations Plugin"};e.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};e.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];if(t.parentNode){t.parentNode.removeChild(t)}this.annotations_[e]=null}this.annotations_=[]};e.prototype.clearChart=function(e){this.detachLabels()};e.prototype.didDrawChart=function(e){var t=e.dygraph;var n=t.layout_.annotated_points;if(!n||n.length===0){return}var r=e.canvas.parentNode;var i={position:"absolute",fontSize:t.getOption("axisLabelFontSize")+"px",zIndex:10,overflow:"hidden"};var s=function(e,n,r){return function(i){var s=r.annotation;if(s.hasOwnProperty(e)){s[e](s,r,t,i)}else{if(t.getOption(n)){t.getOption(n)(s,r,t,i)}}}};var o=e.dygraph.plotter_.area;var u={};for(var a=0;a<n.length;a++){var f=n[a];if(f.canvasx<o.x||f.canvasx>o.x+o.w||f.canvasy<o.y||f.canvasy>o.y+o.h){continue}var l=f.annotation;var c=6;if(l.hasOwnProperty("tickHeight")){c=l.tickHeight}var h=document.createElement("div");for(var p in i){if(i.hasOwnProperty(p)){h.style[p]=i[p]}}if(!l.hasOwnProperty("icon")){h.className="dygraphDefaultAnnotation"}if(l.hasOwnProperty("cssClass")){h.className+=" "+l.cssClass}var d=l.hasOwnProperty("width")?l.width:16;var v=l.hasOwnProperty("height")?l.height:16;if(l.hasOwnProperty("icon")){var m=document.createElement("img");m.src=l.icon;m.width=d;m.height=v;h.appendChild(m)}else{if(f.annotation.hasOwnProperty("shortText")){h.appendChild(document.createTextNode(f.annotation.shortText))}}var g=f.canvasx-d/2;h.style.left=g+"px";var y=0;if(l.attachAtBottom){var b=o.y+o.h-v-c;if(u[g]){b-=u[g]}else{u[g]=0}u[g]+=c+v;y=b}else{y=f.canvasy-v-c}h.style.top=y+"px";h.style.width=d+"px";h.style.height=v+"px";h.title=f.annotation.text;h.style.color=t.colorsMap_[f.name];h.style.borderColor=t.colorsMap_[f.name];l.div=h;t.addEvent(h,"click",s("clickHandler","annotationClickHandler",f,this));t.addEvent(h,"mouseover",s("mouseOverHandler","annotationMouseOverHandler",f,this));t.addEvent(h,"mouseout",s("mouseOutHandler","annotationMouseOutHandler",f,this));t.addEvent(h,"dblclick",s("dblClickHandler","annotationDblClickHandler",f,this));r.appendChild(h);this.annotations_.push(h);var w=e.drawingContext;w.save();w.strokeStyle=t.colorsMap_[f.name];w.beginPath();if(!l.attachAtBottom){w.moveTo(f.canvasx,f.canvasy);w.lineTo(f.canvasx,f.canvasy-2-c)}else{var b=y+v;w.moveTo(f.canvasx,b);w.lineTo(f.canvasx,b+c)}w.closePath();w.stroke();w.restore()}};e.prototype.destroy=function(){this.detachLabels()};return e}();Dygraph.Plugins.Axes=function(){var e=function(){this.xlabels_=[];this.ylabels_=[]};e.prototype.toString=function(){return"Axes Plugin"};e.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};e.prototype.layout=function(e){var t=e.dygraph;if(t.getOption("drawYAxis")){var n=t.getOption("yAxisLabelWidth")+2*t.getOption("axisTickSize");e.reserveSpaceLeft(n)}if(t.getOption("drawXAxis")){var r;if(t.getOption("xAxisHeight")){r=t.getOption("xAxisHeight")}else{r=t.getOptionForAxis("axisLabelFontSize","x")+2*t.getOption("axisTickSize")}e.reserveSpaceBottom(r)}if(t.numAxes()==2){if(t.getOption("drawYAxis")){var n=t.getOption("yAxisLabelWidth")+2*t.getOption("axisTickSize");e.reserveSpaceRight(n)}}else{if(t.numAxes()>2){t.error("Only two y-axes are supported at this time. (Trying to use "+t.numAxes()+")")}}};e.prototype.detachLabels=function(){function e(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.parentNode){n.parentNode.removeChild(n)}}}e(this.xlabels_);e(this.ylabels_);this.xlabels_=[];this.ylabels_=[]};e.prototype.clearChart=function(e){this.detachLabels()};e.prototype.willDrawChart=function(e){function n(e){return Math.round(e)+.5}function r(e){return Math.round(e)-.5}var t=e.dygraph;if(!t.getOption("drawXAxis")&&!t.getOption("drawYAxis")){return}var i=e.drawingContext;var s=e.canvas.parentNode;var o=e.canvas.width;var u=e.canvas.height;var a,f,l,c,h;var p=function(e){return{position:"absolute",fontSize:t.getOptionForAxis("axisLabelFontSize",e)+"px",zIndex:10,color:t.getOptionForAxis("axisLabelColor",e),width:t.getOption("axisLabelWidth")+"px",lineHeight:"normal",overflow:"hidden"}};var d={x:p("x"),y:p("y"),y2:p("y2")};var v=function(e,t,n){var r=document.createElement("div");var i=d[n=="y2"?"y2":t];for(var s in i){if(i.hasOwnProperty(s)){r.style[s]=i[s]}}var o=document.createElement("div");o.className="dygraph-axis-label dygraph-axis-label-"+t+(n?" dygraph-axis-label-"+n:"");o.innerHTML=e;r.appendChild(o);return r};i.save();var m=t.layout_;var g=e.dygraph.plotter_.area;if(t.getOption("drawYAxis")){if(m.yticks&&m.yticks.length>0){var y=t.numAxes();for(h=0;h<m.yticks.length;h++){c=m.yticks[h];if(typeof c=="function"){return}f=g.x;var b=1;var w="y1";if(c[0]==1){f=g.x+g.w;b=-1;w="y2"}var E=t.getOptionForAxis("axisLabelFontSize",w);l=g.y+c[1]*g.h;a=v(c[2],"y",y==2?w:null);var S=l-E/2;if(S<0){S=0}if(S+E+3>u){a.style.bottom="0px"}else{a.style.top=S+"px"}if(c[0]===0){a.style.left=g.x-t.getOption("yAxisLabelWidth")-t.getOption("axisTickSize")+"px";a.style.textAlign="right"}else{if(c[0]==1){a.style.left=g.x+g.w+t.getOption("axisTickSize")+"px";a.style.textAlign="left"}}a.style.width=t.getOption("yAxisLabelWidth")+"px";s.appendChild(a);this.ylabels_.push(a)}var x=this.ylabels_[0];var E=t.getOptionForAxis("axisLabelFontSize","y");var T=parseInt(x.style.top,10)+E;if(T>u-E){x.style.top=parseInt(x.style.top,10)-E/2+"px"}}var N;if(t.getOption("drawAxesAtZero")){var C=t.toPercentXCoord(0);if(C>1||C<0||isNaN(C)){C=0}N=n(g.x+C*g.w)}else{N=n(g.x)}i.strokeStyle=t.getOptionForAxis("axisLineColor","y");i.lineWidth=t.getOptionForAxis("axisLineWidth","y");i.beginPath();i.moveTo(N,r(g.y));i.lineTo(N,r(g.y+g.h));i.closePath();i.stroke();if(t.numAxes()==2){i.strokeStyle=t.getOptionForAxis("axisLineColor","y2");i.lineWidth=t.getOptionForAxis("axisLineWidth","y2");i.beginPath();i.moveTo(r(g.x+g.w),r(g.y));i.lineTo(r(g.x+g.w),r(g.y+g.h));i.closePath();i.stroke()}}if(t.getOption("drawXAxis")){if(m.xticks){for(h=0;h<m.xticks.length;h++){c=m.xticks[h];f=g.x+c[0]*g.w;l=g.y+g.h;a=v(c[1],"x");a.style.textAlign="center";a.style.top=l+t.getOption("axisTickSize")+"px";var k=f-t.getOption("axisLabelWidth")/2;if(k+t.getOption("axisLabelWidth")>o){k=o-t.getOption("xAxisLabelWidth");a.style.textAlign="right"}if(k<0){k=0;a.style.textAlign="left"}a.style.left=k+"px";a.style.width=t.getOption("xAxisLabelWidth")+"px";s.appendChild(a);this.xlabels_.push(a)}}i.strokeStyle=t.getOptionForAxis("axisLineColor","x");i.lineWidth=t.getOptionForAxis("axisLineWidth","x");i.beginPath();var L;if(t.getOption("drawAxesAtZero")){var C=t.toPercentYCoord(0,0);if(C>1||C<0){C=1}L=r(g.y+C*g.h)}else{L=r(g.y+g.h)}i.moveTo(n(g.x),L);i.lineTo(n(g.x+g.w),L);i.closePath();i.stroke()}i.restore()};return e}();Dygraph.Plugins.ChartLabels=function(){var e=function(){this.title_div_=null;this.xlabel_div_=null;this.ylabel_div_=null;this.y2label_div_=null};e.prototype.toString=function(){return"ChartLabels Plugin"};e.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var t=function(e){var t=document.createElement("div");t.style.position="absolute";t.style.left=e.x+"px";t.style.top=e.y+"px";t.style.width=e.w+"px";t.style.height=e.h+"px";return t};e.prototype.detachLabels_=function(){var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_];for(var t=0;t<e.length;t++){var n=e[t];if(!n){continue}if(n.parentNode){n.parentNode.removeChild(n)}}this.title_div_=null;this.xlabel_div_=null;this.ylabel_div_=null;this.y2label_div_=null};var n=function(e,t,n,r,i){var s=document.createElement("div");s.style.position="absolute";if(n==1){s.style.left="0px"}else{s.style.left=t.x+"px"}s.style.top=t.y+"px";s.style.width=t.w+"px";s.style.height=t.h+"px";s.style.fontSize=e.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute";o.style.width=t.h+"px";o.style.height=t.w+"px";o.style.top=t.h/2-t.w/2+"px";o.style.left=t.w/2-t.h/2+"px";o.style.textAlign="center";var u="rotate("+(n==1?"-":"")+"90deg)";o.style.transform=u;o.style.WebkitTransform=u;o.style.MozTransform=u;o.style.OTransform=u;o.style.msTransform=u;if(typeof document.documentMode!=="undefined"&&document.documentMode<9){o.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation="+(n==1?"3":"1")+")";o.style.left="0px";o.style.top="0px"}var a=document.createElement("div");a.className=r;a.innerHTML=i;o.appendChild(a);s.appendChild(o);return s};e.prototype.layout=function(e){this.detachLabels_();var r=e.dygraph;var i=e.chart_div;if(r.getOption("title")){var s=e.reserveSpaceTop(r.getOption("titleHeight"));this.title_div_=t(s);this.title_div_.style.textAlign="center";this.title_div_.style.fontSize=r.getOption("titleHeight")-8+"px";this.title_div_.style.fontWeight="bold";this.title_div_.style.zIndex=10;var o=document.createElement("div");o.className="dygraph-label dygraph-title";o.innerHTML=r.getOption("title");this.title_div_.appendChild(o);i.appendChild(this.title_div_)}if(r.getOption("xlabel")){var u=e.reserveSpaceBottom(r.getOption("xLabelHeight"));this.xlabel_div_=t(u);this.xlabel_div_.style.textAlign="center";this.xlabel_div_.style.fontSize=r.getOption("xLabelHeight")-2+"px";var o=document.createElement("div");o.className="dygraph-label dygraph-xlabel";o.innerHTML=r.getOption("xlabel");this.xlabel_div_.appendChild(o);i.appendChild(this.xlabel_div_)}if(r.getOption("ylabel")){var f=e.reserveSpaceLeft(0);this.ylabel_div_=n(r,f,1,"dygraph-label dygraph-ylabel",r.getOption("ylabel"));i.appendChild(this.ylabel_div_)}if(r.getOption("y2label")&&r.numAxes()==2){var l=e.reserveSpaceRight(0);this.y2label_div_=n(r,l,2,"dygraph-label dygraph-y2label",r.getOption("y2label"));i.appendChild(this.y2label_div_)}};e.prototype.didDrawChart=function(e){var t=e.dygraph;if(this.title_div_){this.title_div_.children[0].innerHTML=t.getOption("title")}if(this.xlabel_div_){this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")}if(this.ylabel_div_){this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")}if(this.y2label_div_){this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label")}};e.prototype.clearChart=function(){};e.prototype.destroy=function(){this.detachLabels_()};return e}();Dygraph.Plugins.Grid=function(){var e=function(){};e.prototype.toString=function(){return"Gridline Plugin"};e.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}};e.prototype.willDrawChart=function(e){function s(e){return Math.round(e)+.5}function o(e){return Math.round(e)-.5}var t=e.dygraph;var n=e.drawingContext;var r=t.layout_;var i=e.dygraph.plotter_.area;var u,a,f,l;if(t.getOption("drawYGrid")){l=r.yticks;n.save();n.strokeStyle=t.getOption("gridLineColor");n.lineWidth=t.getOption("gridLineWidth");for(f=0;f<l.length;f++){if(l[f][0]!==0){continue}u=s(i.x);a=o(i.y+l[f][1]*i.h);n.beginPath();n.moveTo(u,a);n.lineTo(u+i.w,a);n.closePath();n.stroke()}n.restore()}if(t.getOption("drawXGrid")){l=r.xticks;n.save();n.strokeStyle=t.getOption("gridLineColor");n.lineWidth=t.getOption("gridLineWidth");for(f=0;f<l.length;f++){u=s(i.x+l[f][0]*i.w);a=o(i.y+i.h);n.beginPath();n.moveTo(u,a);n.lineTo(u,i.y);n.closePath();n.stroke()}n.restore()}};e.prototype.destroy=function(){};return e}();Dygraph.Plugins.Legend=function(){var e=function(){this.legend_div_=null;this.is_generated_div_=false};e.prototype.toString=function(){return"Legend Plugin"};var t,n;e.prototype.activate=function(e){var t;var n=e.getOption("labelsDivWidth");var r=e.getOption("labelsDiv");if(r&&null!==r){if(typeof r=="string"||r instanceof String){t=document.getElementById(r)}else{t=r}}else{var i={position:"absolute",fontSize:"14px",zIndex:10,width:n+"px",top:"0px",left:e.size().width-n-2+"px",background:"white",lineHeight:"normal",textAlign:"left",overflow:"hidden"};Dygraph.update(i,e.getOption("labelsDivStyles"));t=document.createElement("div");t.className="dygraph-legend";for(var s in i){if(!i.hasOwnProperty(s)){continue}try{t.style[s]=i[s]}catch(o){this.warn("You are using unsupported css properties for your browser in labelsDivStyles")}}e.graphDiv.appendChild(t);this.is_generated_div_=true}this.legend_div_=t;this.one_em_width_=10;return{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var r=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;");e.appendChild(t);var n=t.offsetWidth;e.removeChild(t);return n};e.prototype.select=function(e){var n=e.selectedX;var r=e.selectedPoints;var i=t(e.dygraph,n,r,this.one_em_width_);this.legend_div_.innerHTML=i};e.prototype.deselect=function(e){var n=r(this.legend_div_);this.one_em_width_=n;var i=t(e.dygraph,undefined,undefined,n);this.legend_div_.innerHTML=i};e.prototype.didDrawChart=function(e){this.deselect(e)};e.prototype.predraw=function(e){if(!this.is_generated_div_){return}e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.plotter_.area;var n=e.dygraph.getOption("labelsDivWidth");this.legend_div_.style.left=t.x+t.w-n-1+"px";this.legend_div_.style.top=t.y+"px";this.legend_div_.style.width=n+"px"};e.prototype.destroy=function(){this.legend_div_=null};t=function(e,t,r,i){if(e.getOption("showLabelsOnHighlight")!==true){return""}var s,o,u,a,f;var l=e.getLabels();if(typeof t==="undefined"){if(e.getOption("legend")!="always"){return""}o=e.getOption("labelsSeparateLines");s="";for(u=1;u<l.length;u++){var c=e.getPropertiesForSeries(l[u]);if(!c.visible){continue}if(s!==""){s+=o?"<br/>":" "}f=e.getOption("strokePattern",l[u]);a=n(f,c.color,i);s+="<span style='font-weight: bold; color: "+c.color+";'>"+a+" "+l[u]+"</span>"}return s}var h=e.optionsViewForAxis_("x");var p=h("valueFormatter");s=p(t,h,l[0],e);if(s!==""){s+=":"}var v=[];var m=e.numAxes();for(u=0;u<m;u++){v[u]=e.optionsViewForAxis_("y"+(u?1+u:""))}var g=e.getOption("labelsShowZeroValues");o=e.getOption("labelsSeparateLines");var y=e.getHighlightSeries();for(u=0;u<r.length;u++){var b=r[u];if(b.yval===0&&!g){continue}if(!Dygraph.isOK(b.canvasy)){continue}if(o){s+="<br/>"}var c=e.getPropertiesForSeries(b.name);var w=v[c.axis-1];var E=w("valueFormatter");var S=E(b.yval,w,b.name,e);var x=b.name==y?" class='highlight'":"";s+="<span"+x+"> <b><span style='color: "+c.color+";'>"+b.name+"</span></b>:&nbsp;"+S+"</span>"}return s};n=function(e,t,n){var r=/MSIE/.test(navigator.userAgent)&&!window.opera;if(r){return"&mdash;"}if(!e||e.length<=1){return'<div style="display: inline-block; position: relative; bottom: .5ex; padding-left: 1em; height: 1px; border-bottom: 2px solid '+t+';"></div>'}var i,s,o,u;var a=0,f=0;var l=[];var c;for(i=0;i<=e.length;i++){a+=e[i%e.length]}c=Math.floor(n/(a-e[0]));if(c>1){for(i=0;i<e.length;i++){l[i]=e[i]/n}f=l.length}else{c=1;for(i=0;i<e.length;i++){l[i]=e[i]/a}f=l.length+1}var h="";for(s=0;s<c;s++){for(i=0;i<f;i+=2){o=l[i%l.length];if(i<e.length){u=l[(i+1)%l.length]}else{u=0}h+='<div style="display: inline-block; position: relative; bottom: .5ex; margin-right: '+u+"em; padding-left: "+o+"em; height: 1px; border-bottom: 2px solid "+t+';"></div>'}}return h};return e}();Dygraph.Plugins.RangeSelector=function(){var e=function(){this.isIE_=/MSIE/.test(navigator.userAgent)&&!window.opera;this.hasTouchInterface_=typeof TouchEvent!="undefined";this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion);this.interfaceCreated_=false};e.prototype.toString=function(){return"RangeSelector Plugin"};e.prototype.activate=function(e){this.dygraph_=e;this.isUsingExcanvas_=e.isUsingExcanvas_;if(this.getOption_("showRangeSelector")){this.createInterface_()}return{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};e.prototype.destroy=function(){this.bgcanvas_=null;this.fgcanvas_=null;this.leftZoomHandle_=null;this.rightZoomHandle_=null;this.iePanOverlay_=null};e.prototype.getOption_=function(e){return this.dygraph_.getOption(e)};e.prototype.setDefaultOption_=function(e,t){return this.dygraph_.attrs_[e]=t};e.prototype.createInterface_=function(){this.createCanvases_();if(this.isUsingExcanvas_){this.createIEPanOverlay_()}this.createZoomHandles_();this.initInteraction_();if(this.getOption_("animatedZooms")){this.dygraph_.warn("Animated zooms and range selector are not compatible; disabling animatedZooms.");this.dygraph_.updateOptions({animatedZooms:false},true)}this.interfaceCreated_=true;this.addToGraph_()};e.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_);e.appendChild(this.fgcanvas_);e.appendChild(this.leftZoomHandle_);e.appendChild(this.rightZoomHandle_)};e.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_);e.removeChild(this.fgcanvas_);e.removeChild(this.leftZoomHandle_);e.removeChild(this.rightZoomHandle_);this.graphDiv_=null};e.prototype.reserveSpace_=function(e){if(this.getOption_("showRangeSelector")){e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)}};e.prototype.renderStaticLayer_=function(){if(!this.updateVisibility_()){return}this.resize_();this.drawStaticLayer_()};e.prototype.renderInteractiveLayer_=function(){if(!this.updateVisibility_()||this.isChangingRange_){return}this.placeZoomHandles_();this.drawInteractiveLayer_()};e.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e){if(!this.interfaceCreated_){this.createInterface_()}else{if(!this.graphDiv_||!this.graphDiv_.parentNode){this.addToGraph_()}}}else{if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0;t.resize()},1)}}return e};e.prototype.resize_=function(){function e(e,t){e.style.top=t.y+"px";e.style.left=t.x+"px";e.width=t.w;e.height=t.h;e.style.width=e.width+"px";e.style.height=e.height+"px"}var t=this.dygraph_.layout_.getPlotArea();var n=0;if(this.getOption_("drawXAxis")){n=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")}this.canvasRect_={x:t.x,y:t.y+t.h+n+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};e(this.bgcanvas_,this.canvasRect_);e(this.fgcanvas_,this.canvasRect_)};e.prototype.createCanvases_=function(){this.bgcanvas_=Dygraph.createCanvas();this.bgcanvas_.className="dygraph-rangesel-bgcanvas";this.bgcanvas_.style.position="absolute";this.bgcanvas_.style.zIndex=9;this.bgcanvas_ctx_=Dygraph.getContext(this.bgcanvas_);this.fgcanvas_=Dygraph.createCanvas();this.fgcanvas_.className="dygraph-rangesel-fgcanvas";this.fgcanvas_.style.position="absolute";this.fgcanvas_.style.zIndex=9;this.fgcanvas_.style.cursor="default";this.fgcanvas_ctx_=Dygraph.getContext(this.fgcanvas_)};e.prototype.createIEPanOverlay_=function(){this.iePanOverlay_=document.createElement("div");this.iePanOverlay_.style.position="absolute";this.iePanOverlay_.style.backgroundColor="white";this.iePanOverlay_.style.filter="alpha(opacity=0)";this.iePanOverlay_.style.display="none";this.iePanOverlay_.style.cursor="move";this.fgcanvas_.appendChild(this.iePanOverlay_)};e.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle";e.style.position="absolute";e.style.zIndex=10;e.style.visibility="hidden";e.style.cursor="col-resize";if(/MSIE 7/.test(navigator.userAgent)){e.width=7;e.height=14;e.style.backgroundColor="white";e.style.border="1px solid #333333"}else{e.width=9;e.height=16;e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}if(this.isMobileDevice_){e.width*=2;e.height*=2}this.leftZoomHandle_=e;this.rightZoomHandle_=e.cloneNode(false)};e.prototype.initInteraction_=function(){var e=this;var t=this.isIE_?document:window;var n=0;var r=null;var i=false;var s=false;var o=!this.isMobileDevice_&&!this.isUsingExcanvas_;var u=new Dygraph.IFrameTarp;var a,f,l,c,h,p,d,v,m,g,y;var b,w,E;a=function(t){var n=e.dygraph_.xAxisExtremes();var r=(n[1]-n[0])/e.canvasRect_.w;var i=n[0]+(t.leftHandlePos-e.canvasRect_.x)*r;var s=n[0]+(t.rightHandlePos-e.canvasRect_.x)*r;return[i,s]};f=function(s){Dygraph.cancelEvent(s);i=true;n=s.clientX;r=s.target?s.target:s.srcElement;if(s.type==="mousedown"||s.type==="dragstart"){Dygraph.addEvent(t,"mousemove",l);Dygraph.addEvent(t,"mouseup",c)}e.fgcanvas_.style.cursor="col-resize";u.cover();return true};l=function(t){if(!i){return false}Dygraph.cancelEvent(t);var s=t.clientX-n;if(Math.abs(s)<4){return true}n=t.clientX;var u=e.getZoomHandleStatus_();var a;if(r==e.leftZoomHandle_){a=u.leftHandlePos+s;a=Math.min(a,u.rightHandlePos-r.width-3);a=Math.max(a,e.canvasRect_.x)}else{a=u.rightHandlePos+s;a=Math.min(a,e.canvasRect_.x+e.canvasRect_.w);a=Math.max(a,u.leftHandlePos+r.width+3)}var f=r.width/2;r.style.left=a-f+"px";e.drawInteractiveLayer_();if(o){h()}return true};c=function(n){if(!i){return false}i=false;u.uncover();Dygraph.removeEvent(t,"mousemove",l);Dygraph.removeEvent(t,"mouseup",c);e.fgcanvas_.style.cursor="default";if(!o){h()}return true};h=function(){try{var t=e.getZoomHandleStatus_();e.isChangingRange_=true;if(!t.isZoomed){e.dygraph_.resetZoom()}else{var n=a(t);e.dygraph_.doZoomXDates_(n[0],n[1])}}finally{e.isChangingRange_=false}};p=function(t){if(e.isUsingExcanvas_){return t.srcElement==e.iePanOverlay_}else{var n=e.leftZoomHandle_.getBoundingClientRect();var r=n.left+n.width/2;n=e.rightZoomHandle_.getBoundingClientRect();var i=n.left+n.width/2;return t.clientX>r&&t.clientX<i}};d=function(r){if(!s&&p(r)&&e.getZoomHandleStatus_().isZoomed){Dygraph.cancelEvent(r);s=true;n=r.clientX;if(r.type==="mousedown"){Dygraph.addEvent(t,"mousemove",v);Dygraph.addEvent(t,"mouseup",m)}return true}return false};v=function(t){if(!s){return false}Dygraph.cancelEvent(t);var r=t.clientX-n;if(Math.abs(r)<4){return true}n=t.clientX;var i=e.getZoomHandleStatus_();var u=i.leftHandlePos;var a=i.rightHandlePos;var f=a-u;if(u+r<=e.canvasRect_.x){u=e.canvasRect_.x;a=u+f}else{if(a+r>=e.canvasRect_.x+e.canvasRect_.w){a=e.canvasRect_.x+e.canvasRect_.w;u=a-f}else{u+=r;a+=r}}var l=e.leftZoomHandle_.width/2;e.leftZoomHandle_.style.left=u-l+"px";e.rightZoomHandle_.style.left=a-l+"px";e.drawInteractiveLayer_();if(o){g()}return true};m=function(e){if(!s){return false}s=false;Dygraph.removeEvent(t,"mousemove",v);Dygraph.removeEvent(t,"mouseup",m);if(!o){g()}return true};g=function(){try{e.isChangingRange_=true;e.dygraph_.dateWindow_=a(e.getZoomHandleStatus_());e.dygraph_.drawGraph_(false)}finally{e.isChangingRange_=false}};y=function(t){if(i||s){return}var n=p(t)?"move":"default";if(n!=e.fgcanvas_.style.cursor){e.fgcanvas_.style.cursor=n}};b=function(e){if(e.type=="touchstart"&&e.targetTouches.length==1){if(f(e.targetTouches[0])){Dygraph.cancelEvent(e)}}else{if(e.type=="touchmove"&&e.targetTouches.length==1){if(l(e.targetTouches[0])){Dygraph.cancelEvent(e)}}else{c(e)}}};w=function(e){if(e.type=="touchstart"&&e.targetTouches.length==1){if(d(e.targetTouches[0])){Dygraph.cancelEvent(e)}}else{if(e.type=="touchmove"&&e.targetTouches.length==1){if(v(e.targetTouches[0])){Dygraph.cancelEvent(e)}}else{m(e)}}};E=function(t,n){var r=["touchstart","touchend","touchmove","touchcancel"];for(var i=0;i<r.length;i++){e.dygraph_.addEvent(t,r[i],n)}};this.setDefaultOption_("interactionModel",Dygraph.Interaction.dragIsPanInteractionModel);this.setDefaultOption_("panEdgeFraction",1e-4);var S=window.opera?"mousedown":"dragstart";this.dygraph_.addEvent(this.leftZoomHandle_,S,f);this.dygraph_.addEvent(this.rightZoomHandle_,S,f);if(this.isUsingExcanvas_){this.dygraph_.addEvent(this.iePanOverlay_,"mousedown",d)}else{this.dygraph_.addEvent(this.fgcanvas_,"mousedown",d);this.dygraph_.addEvent(this.fgcanvas_,"mousemove",y)}if(this.hasTouchInterface_){E(this.leftZoomHandle_,b);E(this.rightZoomHandle_,b);E(this.fgcanvas_,w)}};e.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(t){Dygraph.warn(t)}var n=.5;this.bgcanvas_ctx_.lineWidth=1;e.strokeStyle="gray";e.beginPath();e.moveTo(n,n);e.lineTo(n,this.canvasRect_.h-n);e.lineTo(this.canvasRect_.w-n,this.canvasRect_.h-n);e.lineTo(this.canvasRect_.w-n,n);e.stroke()};e.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor");var t=this.getOption_("rangeSelectorPlotStrokeColor");if(!e&&!t){return}var n=this.getOption_("stepPlot");var r=this.computeCombinedSeriesAndLimits_();var i=r.yMax-r.yMin;var s=this.bgcanvas_ctx_;var o=.5;var u=this.dygraph_.xAxisExtremes();var a=Math.max(u[1]-u[0],1e-30);var f=(this.canvasRect_.w-o)/a;var l=(this.canvasRect_.h-o)/i;var c=this.canvasRect_.w-o;var h=this.canvasRect_.h-o;var p=null,d=null;s.beginPath();s.moveTo(o,h);for(var v=0;v<r.data.length;v++){var m=r.data[v];var g=m[0]!==null?(m[0]-u[0])*f:NaN;var y=m[1]!==null?h-(m[1]-r.yMin)*l:NaN;if(isFinite(g)&&isFinite(y)){if(p===null){s.lineTo(g,h)}else{if(n){s.lineTo(g,d)}}s.lineTo(g,y);p=g;d=y}else{if(p!==null){if(n){s.lineTo(g,d);s.lineTo(g,h)}else{s.lineTo(p,h)}}p=d=null}}s.lineTo(c,h);s.closePath();if(e){var b=this.bgcanvas_ctx_.createLinearGradient(0,0,0,h);b.addColorStop(0,"white");b.addColorStop(1,e);this.bgcanvas_ctx_.fillStyle=b;s.fill()}if(t){this.bgcanvas_ctx_.strokeStyle=t;this.bgcanvas_ctx_.lineWidth=1.5;s.stroke()}};e.prototype.computeCombinedSeriesAndLimits_=function(){var e=this.dygraph_.rawData_;var t=this.getOption_("logscale");var n=[];var r;var i;var s;var o,u,a;var f,l;for(o=0;o<e.length;o++){if(e[o].length>1&&e[o][1]!==null){s=typeof e[o][1]!="number";if(s){r=[];i=[];for(a=0;a<e[o][1].length;a++){r.push(0);i.push(0)}}break}}for(o=0;o<e.length;o++){var c=e[o];f=c[0];if(s){for(a=0;a<r.length;a++){r[a]=i[a]=0}}else{r=i=0}for(u=1;u<c.length;u++){if(this.dygraph_.visibility()[u-1]){var h;if(s){for(a=0;a<r.length;a++){h=c[u][a];if(h===null||isNaN(h)){continue}r[a]+=h;i[a]++}}else{h=c[u];if(h===null||isNaN(h)){continue}r+=h;i++}}}if(s){for(a=0;a<r.length;a++){r[a]/=i[a]}l=r.slice(0)}else{l=r/i}n.push([f,l])}n=this.dygraph_.rollingAverage(n,this.dygraph_.rollPeriod_);if(typeof n[0][1]!="number"){for(o=0;o<n.length;o++){l=n[o][1];n[o][1]=l[0]}}var p=Number.MAX_VALUE;var d=-Number.MAX_VALUE;for(o=0;o<n.length;o++){l=n[o][1];if(l!==null&&isFinite(l)&&(!t||l>0)){p=Math.min(p,l);d=Math.max(d,l)}}var v=.25;if(t){d=Dygraph.log10(d);d+=d*v;p=Dygraph.log10(p);for(o=0;o<n.length;o++){n[o][1]=Dygraph.log10(n[o][1])}}else{var m;var g=d-p;if(g<=Number.MIN_VALUE){m=d*v}else{m=g*v}d+=m;p-=m}return{data:n,yMin:p,yMax:d}};e.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes();var t=this.dygraph_.xAxisRange();var n=e[1]-e[0];var r=Math.max(0,(t[0]-e[0])/n);var i=Math.max(0,(e[1]-t[1])/n);var s=this.canvasRect_.x+this.canvasRect_.w*r;var o=this.canvasRect_.x+this.canvasRect_.w*(1-i);var u=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2);var a=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=s-a+"px";this.leftZoomHandle_.style.top=u+"px";this.rightZoomHandle_.style.left=o-a+"px";this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top;this.leftZoomHandle_.style.visibility="visible";this.rightZoomHandle_.style.visibility="visible"};e.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1;var n=this.canvasRect_.w-t;var r=this.canvasRect_.h-t;var i=this.getZoomHandleStatus_();e.strokeStyle="black";if(!i.isZoomed){e.beginPath();e.moveTo(t,t);e.lineTo(t,r);e.lineTo(n,r);e.lineTo(n,t);e.stroke();if(this.iePanOverlay_){this.iePanOverlay_.style.display="none"}}else{var s=Math.max(t,i.leftHandlePos-this.canvasRect_.x);var o=Math.min(n,i.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, 0.6)";e.fillRect(0,0,s,this.canvasRect_.h);e.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h);e.beginPath();e.moveTo(t,t);e.lineTo(s,t);e.lineTo(s,r);e.lineTo(o,r);e.lineTo(o,t);e.lineTo(n,t);e.stroke();if(this.isUsingExcanvas_){this.iePanOverlay_.style.width=o-s+"px";this.iePanOverlay_.style.left=s+"px";this.iePanOverlay_.style.height=r+"px";this.iePanOverlay_.style.display="inline"}}};e.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2;var t=parseFloat(this.leftZoomHandle_.style.left)+e;var n=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:n,isZoomed:t-1>this.canvasRect_.x||n+1<this.canvasRect_.x+this.canvasRect_.w}};return e}();Dygraph.PLUGINS.push(Dygraph.Plugins.Legend,Dygraph.Plugins.Axes,Dygraph.Plugins.RangeSelector,Dygraph.Plugins.ChartLabels,Dygraph.Plugins.Annotations,Dygraph.Plugins.Grid)